{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"overview/","title":"Overview","text":""},{"location":"overview/#overview","title":"Overview","text":""},{"location":"overview/#lab-structure","title":"Lab structure","text":"<p>This hands-on lab will provide you with the opportunity to implement Cisco calling interoperability with Microsoft Teams by focusing on different scenarios. Each scenario corresponds to an independent module.</p> <p>Start with the Lab access and then move to one of the 2 modules.</p> <p>Module 1: Microsoft Phone System Direct Routing to PSTN and UCM using Cisco Unified Border Element (CUBE) Module 2: Cisco Call for Microsoft Teams (Webex Calling) Module 3: Cisco Call for Microsoft Teams (UCM Calling)</p> <p>The Appendix contains extra or alternative steps you can take</p>"},{"location":"overview/#authors","title":"Authors","text":"<p>Shane Long - Technical Marketing Engineer Sara Mac\u00edas Salete - Collaboration Solutions Engineer Venky Yechuri \u2013 Technical Projects Systems Engineer</p>"},{"location":"overview/#getting-started","title":"Getting Started","text":"<p>The 3 independent modules of this lab can be done in any order. You must start in \"Lab access\" and then continue with one of the modules. A completion of 2 modules is required to complete the lab.    </p>"},{"location":"howToUse/admonition/","title":"Admonition","text":"<p>In addition to the  stock admonitions which are available out of the box we have added some additional branded admonitions which were created by Bobby McGonigle. </p> <p>Blank</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Blank!')\n</code></pre> <p>Vidcast</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Vidcast!')\n</code></pre> <p>Download</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Download!')\n</code></pre> <p>Cedeploy</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Ce-Deploy!')\n</code></pre> <p>Webex</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Webex!')\n</code></pre> <p>Gif</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('How should I pronounce Gif?')\n</code></pre> <p>Important</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Important!')\n</code></pre> <p>Challenge</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Challenge!')\n</code></pre> <p>Tool</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Tool!')\n</code></pre> <p>Curious</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>console.log('Hello Curious!')\n</code></pre>"},{"location":"howToUse/customFeatures/","title":"customFeatures","text":""},{"location":"howToUse/customFeatures/#adding-a-copy-button-without-a-code-block","title":"Adding a Copy Button Without a Code Block","text":"<p><code>This will copy the following text: &lt;copy&gt;Text to copy&lt;/copy&gt;</code> </p> <p>This will copy the following text: Text to copy</p>"},{"location":"howToUse/customFeatures/#adding-user-specific-variables-into-your-lab-guide","title":"Adding user specific variables into your lab guide","text":"<p>There may be times in which you want to embed some attendee specific information into the instructions of your lab guide, like credentials or phone numbers, which will be used on multiple pages of your lab guide.  You can gather the information via a form or you can pass a pre-encoded JSON string as a URL parameter to populate the variable values into the browser's session storage.  Then you can use a simple HTML tag with a special class name to update the values in the lab guide.  This feature can be combined with the copy button method above.</p>"},{"location":"howToUse/customFeatures/#form-method","title":"Form Method","text":"Show me the code <pre><code>&lt;form id=\"info\"&gt;\n\n\n&lt;label for=\"Admin\"&gt;Admin Login:&lt;/label&gt;\n&lt;input type=\"text\" id=\"Admin\" name=\"Admin\"&gt;&lt;br&gt;\n\n&lt;label for=\"PW\"&gt;Admin Password:&lt;/label&gt;\n&lt;input type=\"text\" id=\"PW\" name=\"PW\"&gt;&lt;br&gt;\n\n&lt;label for=\"EP\"&gt;Inbound Channel Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"EP\" name=\"EP\"&gt;&lt;br&gt;\n\n&lt;label for=\"DN\"&gt;Inbound Channel Phone Number:&lt;/label&gt;\n&lt;input type=\"text\" id=\"DN\" name=\"DN\"&gt;&lt;br&gt;\n\n&lt;label for=\"Queue\"&gt;Queue 1 Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"Queue\" name=\"Queue\"&gt;&lt;br&gt;\n\n&lt;label for=\"Queue2\"&gt;Queue 2 Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"Queue2\" name=\"Queue2\"&gt;&lt;br&gt;\n\n&lt;label for=\"Team\"&gt;Team 1 Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"Team\" name=\"Team\"&gt;&lt;br&gt;\n\n&lt;label for=\"Team2\"&gt;Team 2 Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"Team2\" name=\"Team2\"&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;button onclick=\"setValues()\"&gt;Update Lab Guide&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> Example Input Form Admin Login: Admin Password: Inbound Channel Name: Inbound Channel Phone Number: Queue 1 Name: Queue 2 Name: Team 1 Name: Team 2 Name: Update Lab Guide <p>Login: Provided by proctor</p> <p>Password: Provided by proctor</p> <p>Assigned Inbound Channel Name: Provided by proctor</p> <p>Assigned Inbound Channel Number: Provided by proctor</p> <p>Assigned Queue Name 1: Provided by proctor</p> <p>Assigned Queue Name 2: Provided by proctor</p> <p>Assigned Team name 1: Provided by proctor</p> <p>Assigned Team name 2: Provided by proctor</p>"},{"location":"howToUse/customFeatures/#url-method","title":"URL Method","text":"<p>If you have a lot of attendee variables in your lab, you may choose to precompile and encode them so that you can simply provide a URL link which will load all of their required information.</p> <p>To see this in action, add this string at the end of the URL for any page on this site: ?eyJBZG1pbiI6ImFkbWluQHh5ei5iaXoiLCJQVyI6InNVcGVyU2VjcmV0MTIzISIsIkVQIjoiRVAxIiwiRE4iOiIrMTkxMDU1NTEyMTUyIiwiUXVldWUiOiJRdWV1ZTEiLCJRdWV1ZTIiOiJRdWV1ZTIiLCJUZWFtIjoiVGVhbTEiLCJUZWFtMiI6IlRlYW0yIn0=</p>"},{"location":"howToUse/initialSetup/","title":"Initial Setup","text":""},{"location":"howToUse/initialSetup/#initial-setup","title":"Initial Setup","text":"<p>This lab guide template uses MKDocs to take your markdown documentation and transform it into an interactive web based lab guide.  You will need to install some software on your PC or Mac in order to take full advantage of the tool which will allow you to view your changes as you save them and ensure that your formatting is exactly how you want it.</p>"},{"location":"howToUse/initialSetup/#prerequisite-software-to-install","title":"Prerequisite Software to Install","text":"<ol> <li>Python</li> <li>Visual Studio Code</li> <li>Git</li> </ol>"},{"location":"howToUse/initialSetup/#setting-up-your-lab-guide-on-your-computer","title":"Setting up your lab guide on your computer","text":""},{"location":"howToUse/initialSetup/#clone-your-repository-with-git","title":"Clone your repository with git","text":"<p>Open Visual Studio Code</p> <p>Click the Source Control button in the left menu </p> <p>Click Clone Repository</p> <p>Enter the repository source:  https://github.com/WebexCC-SA/LAB-2256.git</p> <p>Select or create a new folder to clone the repository into.</p>"},{"location":"howToUse/initialSetup/#build-the-environment","title":"Build the environment","text":"<p>When prompted to open the cloned repository, select open.</p> <p>Drag open the terminal at the bottom of the Visual Studio Code window</p> Show Me <p></p> If you are on a PCIf you are on a Mac <p>In your terminal enter the following commands:</p> <p>python -m venv venv</p> <p>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</p> <p>venv\\Scripts\\activate.ps1</p> <p>pip install -r requirements.txt</p> <p>mkdocs serve</p> <p>Open a browser to http://127.0.0.1:8000 </p> <p>In your terminal enter the following commands:</p> <p>python -m venv venv</p> <p>source venv/bin/activate</p> <p>pip install -r requirements.txt</p> <p>mkdocs serve</p> <p>Open a browser to http://127.0.0.1:8000</p>"},{"location":"howToUse/postInitial/","title":"Using the tool after the initial setup","text":""},{"location":"howToUse/postInitial/#using-the-tool-after-the-initial-setup","title":"Using the tool after the initial setup","text":"<p>After the initial setup you will only need to take the following steps:</p> <p>Open Visual Studio Code</p> <p>Click the Source Control button in the left menu </p> <p>Click Open Folder and navigate to the folder where you cloned the repository</p> If you are on a PCIf you are on a Mac <p>In your terminal enter the following commands:</p> <p>venv\\Scripts\\activate.ps1</p> <p>mkdocs serve</p> <p>Open a browser to http://127.0.0.1:8000</p> <p>In your terminal enter the following commands:</p> <p>source venv/bin/activate</p> <p>mkdocs serve</p> <p>Open a browser to http://127.0.0.1:8000</p>"},{"location":"howToUse/references/","title":"References","text":""},{"location":"howToUse/references/#mk-docs-feature-reference","title":"MK Docs Feature Reference:","text":"<p>https://squidfunk.github.io/mkdocs-material/reference/ </p>"},{"location":"howToUse/references/#markdown-cheat-sheets","title":"Markdown Cheat Sheets:","text":"<p>https://www.markdownguide.org/cheat-sheet/ </p> <p>https://github.com/lifeparticle/Markdown-Cheatsheet </p>"},{"location":"howToUse/syncChanges/","title":"Publishing Your Changes","text":""},{"location":"howToUse/syncChanges/#publishing-your-changes","title":"Publishing Your Changes","text":"<p>As you progress with the creation of your lab guide, you should sync your changes periodically to GitHub.  </p>"},{"location":"howToUse/syncChanges/#syncing-your-changes-to-github","title":"Syncing your changes to GitHub","text":"<p>Make sure that you have saved all of the files you want to sync up to the repository</p> <p>Click the Source Control button in the left menu </p> <p>Click the plus sign next to each file you want to sync as you hover over the file names or alternatively, click the plus sign next to changes</p> <p>Enter a note about the changes you are making in the message text box</p> <p>Click the down chevron  on the commit button to reveal more options</p> <p>Select Commit &amp; Sync </p>"},{"location":"howToUse/syncChanges/#after-you-sync-your-changes-it-will-take-a-few-minutes-for-github-actions-to-build-the-website-so-that-you-can-view-all-of-the-changes-you-made","title":"After you Sync your changes, it will take a few minutes for GitHub Actions to build the website so that you can view all of the changes you made.","text":""},{"location":"lab_access/Lab_access/","title":"Lab access","text":""},{"location":"lab_access/Lab_access/#accessing-your-lab-approx-10-min","title":"Accessing your Lab -- [Approx 10 min]","text":"<ol> <li> <p>Open a browser on your laptop and go to https://dcloud.cisco.com </p> </li> <li> <p>Click Login at the top right corner and log in with your     cisco.com credentials</p> <p></p> </li> <li> <p>Once logged in, open a new browser tab and paste the event URL     for your lab. The event URL is     https://dcloud2-sjc.cisco.com/event/397710/access.</p> </li> <li> <p>You will be automatically assigned to a lab session and will be     taken to the lab topology page as shown below.</p> <p></p> </li> <li> <p>Click on the Workstation 1 Charles Holland icon on the     topology page and it will bring up a fly-out window on left with     Workstation 1 related information like IP Address,     username, and password as shown below.</p> <p></p> </li> <li> <p>Similarly, you can click on any other Virtual Machine on the     topology page to get its accessing details.</p> </li> <li> <p>In this lab, you will access Workstation 1 (through WebRDP or     Remote Desktop) and from Workstation 1 you will be able to     access all the other virtual machines or Cisco UC applications like     Cisco UCM, CUBE, etc., to complete the lab tasks.</p> </li> <li> <p>There are two ways you can access Workstation 1. You can     either connect via a local RDP connection (option A - preferred)     connection or via a WebRDP connection (option B) from your     classroom laptop.</p> <p>Option (A) -- [Preferred]</p> <p>To connect to the Workstation using your local RDP connection, first, you need to connect to your lab session via a VPN. Open Cisco AnyConnect on your laptop. It will prompt you for the Host Address, username, and password information for your session. You will find all these details under the Info \\  AnyConnect Credentials section of your lab. Enter all the details as shown below and click OK to connect to your session. The Host Address, username, and password will be different for each lab. Use YOUR OWN assigned lab details.</p> <p></p> <p>Once you are connected to your lab session over VPN, you can open a local RDP connection on your laptop and connect to Workstation 1 using the following details:</p> <p>Host: 198.18.1.36</p> <p>Username: dcloud\\cholland</p> <p>Password: dCloud123!</p> <p>Option (B)</p> <p>To access Workstation 1 over WebRDP, click on the Workstation 1 icon on the topology page and when it brings up a fly-out window with workstation details. On the fly-out window go to click on the Remote Access \\  Web RDP. It will open a new browser tab and connect you to Workstation 1.</p> <p></p> </li> <li> <p>On the lab topology page, click on the Info tab on the top a     fly-out window will open on left side. Here you will find all your     lab-specific access information like the Session ID, DNS     Domain name, PSTN Numbers, etc., You will need all this     information throughout this lab session. All this information is     captured and put in a text file called Lab_info.txt file on     Workstation 1's Desktop. Once you have connected to     Workstation 1 using one of the methods mentioned above, open the     text file Lab_info.txt located on Desktop and review it. Keep     this file open and handy as you will need this information     throughout the lab.</p> <p></p> </li> </ol> <p>Below information is just for reviewing purpose only.</p> <p>Session ID: you will find it under the details tab, as sho\u00adwn above   (Example 1041368)</p> <p>Control Hub password: dCloud1368! (dCloud + last four   digits of session ID + !)</p> <p>Domain Name: Go to the Info tab of your session and scroll   down to see the DNS section. It will be in the cbXXX.dc-YY.com   format.</p> <p>Expressway -- E Password: Same as AnyConnect password, found   under Info tab \\  AnyConnect Credentials.</p> <p></p>"},{"location":"module_1/module_1/","title":"Module 1","text":""},{"location":"module_1/module_1/#module-1-direct-routing-with-cube-and-interworking-with-cucm-via-cube","title":"Module 1: Direct Routing with CUBE and Interworking with CUCM via CUBE","text":""},{"location":"module_1/module_1/#module-1a-direct-routing-with-cube-approx-45-min","title":"Module 1a: Direct Routing with CUBE [Approx 45 min]","text":"<p>Microsoft Direct Routing is a Microsoft solution that lets you connect a certified, customer-provided Session Border Controller (SBC) to Microsoft Teams Phone for on-premises or customer-provided PSTN connectivity.</p> <p></p>"},{"location":"module_1/module_1/#direct-routing-cube-configuration-approx-10-min","title":"Direct Routing CUBE Configuration [Approx 10 min]","text":"<p>In this module there are 6 sub modules, out of which 4 sub-modules are CLI (Command Line Interface) based.  These 4 sub-modules entail importing required certificates for CUBE connectivity with the Microsoft Teams Phone, configure SIP profiles, dial-peers, and other required CLI configurations.  The entire required configuration for CUBE has been generated and put it on Workstation 1 Desktop in a file called Ready-CL_DR_CUBE-Config.txt file. Configure the CUBE by copying and pasting commands from the file.</p> <p>NOTE: If you are interested in understanding all these commands/certificates/SIP Profiles etc., we have all this information listed in Appendix section for your review after the lab.</p> <ol> <li> <p>Continuing on Workstation 1, Minimize all applications and open text     file Ready-CL_DR-CUBE-Config.txt with Notepad++. Right click     on the file and choose Edit with Notepad++.</p> <p>NOTE: DO NOT open this file with Microsoft default notepad application, the certificates will not be formatted correctly.</p> <p></p> </li> <li> <p>Open Putty from the taskbar and open an SSH connection to     198.18.133.231 (or you can load cube.dcloud.cisco.com from     available saved logins on Putty) and login as admin and     dCloud123!</p> </li> <li> <p>Copy all (use Ctrl + a) the contents of the file     (Ready-CL_DR-CUBE-Config.txt). Go to the putty window and paste     (Right click anywhere on the putty window).</p> </li> <li> <p>Once all the configuration is entered on Putty, scroll up and make     sure there are NO error messages for any of the commands and     also make sure the certificate import is successful as show     below.</p> <p></p> </li> <li> <p>The CUBE configuration from CLI is complete and we will move to Microsoft Admin Center to continue to configure Direct Routing configuration.</p> </li> </ol>"},{"location":"module_1/module_1/#module-1a1-add-cube-to-the-microsoft-teams-and-configure-voice-policies-approx-25-min","title":"Module 1a.1: Add CUBE to the Microsoft Teams and configure Voice policies [Approx 25 min]","text":"<p>NOTE: In the Microsoft admin center, we will add CUBE as a Session Border Controller (SBC)</p> <ol> <li> <p>Continuing on Workstation 1, open a new browser tab, go to Collab     Admin links, and choose Microsoft Teams Admin Center. Login     with cholland@cbXXX.dc-YY.com and dCloud123!, if prompted.</p> <p>NOTE: You need to Replace XXX, YY (in domain name) with your session-specific details. If you haven't already done as explained in Accessing your lab section, go to Lab_info.txt file located on your workstation 1 and copy the domain and password. </p> </li> <li> <p>Once logged into the Microsoft Teams admin center, on the left     side pane, go to Voice &gt; Direct Routing. On the Direct     Routing page click Add to add a new SBC (CUBE).</p> </li> <li> <p>On the Add SBC page, name the SBC as cube.cbXXX.dc-YY.com (the FQDN of the CUBE), and toggle ON the option for Enabled, and set SIP signaling port to 5061. Scroll down and click Save.</p> <p>NOTE: You need to Replace XXX, YY (in domain name) with your session-specific details. If you haven't already done as explained in Accessing your lab section, go to Lab_info.txt file located on your workstation 1 and copy the domain and password.</p> <p></p> </li> <li> <p>You will be taken to the SBCs page and there you will see the newly     added SBC.</p> <p></p> <p>NOTE: Sometimes CUBE may take longer to show as Active. Also TLS connectivity status may show an exclamation mark (indicating a warning) due to inactivity but you can ignore that.</p> <p>At this point, CUBE should be able to talk to Microsoft Cloud services and establish a TLS connection. You can test that using the below commands on the CUBE to check active connections.</p> <p><code>show sip-ua connections tcp tls brief</code></p> <p></p> <p><code>show sip-ua connections tcp tls detail</code></p> <p></p> <p>NOTE: The 52.114.X.X subnet belongs to Microsoft Cloud indicating CUBE has successfully established communication with Microsoft Cloud/tenant.</p> </li> <li> <p>Now go to Voice &gt; Voice routing policies. There will be a     default routing policy named Global (Org-wide default). Select     the Global voice routing policy, and under PSTN usage     records click Add PSTN usage records. It will bring up a     fly-out window to add PSTN usage records. Click Add on the     fly-out window and name it PSTNUR, checkmark the PSTN usage     record you just created and click Save and Apply. The fly-out     window will be closed and you will be taken back to the Global     policy page, click Save and click Confirm on the pop-up     window to update the Global policy with the newly created PSTN usage     record (PSTNUR).</p> <p></p> </li> <li> <p>Now let's add a voice route. Go to Voice &gt; Direct Routing.     On the Direct routing page go to the Voice routes tab and click     Add to add a new voice route.</p> <p></p> </li> <li> <p>On the Add voice route page, populate the following parameters and     click Save.</p> Parameter Value Name PSTN-DR Priority 2 Dialed number pattern \\+.* SBCs enrolled Click Add SBCs and on the fly-out window, drop down and select the available SBC (<code>cbXXX.dc-YY.com</code>) and click Apply. PSTN usage records Click Add PSTN usage records and on the fly-out window, checkmark the available PSTN usage record (<code>PSTNUR</code>) and click Apply. <p></p> </li> <li> <p>Now, let's add the Calling policy. Go to Voice &gt; Calling     policies. Click Add to add a new Calling policy.</p> <p></p> </li> <li> <p>Name the Calling policy as PSTN-CP. Toggle On for Make private calls. Scroll down on the page and     select On for the option Busy on busy during calls option.     Click Save.</p> <p></p> </li> <li> <p>Now we need to assign the phone number and apply the policies (we     defined above) for the user that we are going to use in this section     of the lab (Charles Holland). On the Microsoft Teams admin     center go to Users &gt; Manage users.</p> </li> <li> <p>From the list of users select Charles Holland     (cholland@cbXXX.dc-YY.com). It will take you to the user page. On     the user page click Assign primary phone number under     Account.</p> </li> <li> <p>It will bring up a fly-out window for Assign phone number. For     Phone number type keep Direct Routing selected. Enter     6018 for the Assigned phone number. Click Apply.</p> <p></p> <p>NOTE: Sometimes it will take longer to update the phone number and it may give you a warning. You can safely ignore the warning and just wait until the pop-up window goes away. It will take around 5 to 10 seconds for the pop-up window to go away.</p> </li> <li> <p>It will take you back to the user page. Now go to Policies tab     and click Edit under the Policies tab.</p> <p></p> </li> <li> <p>It will bring up a fly-out window to configure user policies.</p> <p>Drop-down options for:</p> <p>Select Calling policy and select PSTN-CP</p> <p>Click Apply. Click Confirm on the pop-up window to confirm.</p> <p></p> </li> <li> <p>This completes the Direct Routing configuration for Microsoft Teams.</p> </li> </ol>"},{"location":"module_1/module_1/#module-1a2-testing-the-calls-from-microsoft-teams-for-direct-routing-approx-10-min","title":"Module 1a.2: Testing the calls from Microsoft Teams for Direct Routing [Approx 10 min]","text":"<p>NOTE: If you have completed any of Modules 3 or 4 before completing this module, you may have disabled Microsoft Native dialing. If so, login to Microsoft Teams Admin Center and go to Voice &gt; Calling policies. On the Calling policies page select Global (Org-wide default). On the Global (Org-wide default) policy page toggle on the option for Make private calls and click Save. Click Confirm on the pop-up window.</p> <ol> <li> <p>Continuing on Workstation 1. Open Microsoft Teams from the     desktop/taskbar and log in with credentials     cholland@cbXXX.dc-YY.com and dCloud123! Click OK. Click     Done on the next pop-up window.</p> <p>NOTE: You need to Replace XXX, YY (in domain name) with your session-specific details. If you haven't already done as explained in Accessing your lab section, go to Lab_info.txt file located on your workstation 1 and copy the domain and password.</p> <p>NOTE: DO NOT click No, sign into this app only. Ignore the warning about Microsoft Teams update and continue to use Classic one.</p> <p></p> </li> <li> <p>Accept any information/warning messages while logging in.</p> <p>NOTE: Before we continue to test, on workstation 1, go to the notifications  [] (bottom right corner, next to the time) and make sure Quiet hours are turned off. If it is turned on (shows in the color Blue) click it to turn it off.</p> <p></p> </li> <li> <p>Now on Microsoft Teams, go to Calls on the left side pane.  Using the dial pad, dial the phone number (MUST be a US Phone number)     in E.164 format. Example +19725556018 or if you do not have a US     Phone number, you can dial Cisco support number +18005532447.</p> <p>NOTE: Click continue to use Teams Classic if you are prompted in this module or switch when I am not using Teams.</p> </li> <li> <p>Make sure the call is connected. Hang up the call after a few     seconds.</p> <p></p> <p>NOTE: You will experience one-way audio as you are using a virtual workstation and will not be able to use the microphone.</p> </li> <li> <p>To make an inbound call, on workstation 1, go to     Lab_info.txt and note down the DID number assigned for Charles     Holland. Dial that number from your mobile. If you cannot make calls     to a US number from your mobile phone, contact one of your proctors.</p> <p></p> </li> <li> <p>The incoming call should ring on workstation 1. Answer the call and     verify the call is connected. Hang up the call after a few seconds.</p> <p></p> </li> <li> <p>This completes testing the calls from Microsoft Teams for Direct     Routing.</p> </li> </ol> <p>This completes Module 1a -- Direct Routing with CUBE. Let's proceed to Module 1b -- Interworking between CUCM and Microsoft Phone System using CUBE.</p>"},{"location":"module_1/module_1/#module-1b-interworking-between-cisco-unified-cm-and-microsoft-teams-phone-via-cube-approx-20-min","title":"Module 1b: Interworking between Cisco Unified CM and Microsoft Teams Phone via CUBE [Approx 20 min]","text":"<p>IMPORTANT NOTE: Make sure you have COMPLETED Module 1a (Direct Routing with CUBE) before continuing. Module 1a is a mandatory/prerequisite module to go through Module 1b.</p> <p>Customers using Microsoft Teams Phone have the option of not only connecting to the PSTN using CUBE, but also to an internal phone system such as Cisco Unified Communications Manager.</p> <p>The following topology uses a co-resident CUBE for Direct Routing. You can also use a dedicated CUBE instance for Direct Routing and an additional gateway for connection to the PSTN.</p> <p></p>"},{"location":"module_1/module_1/#module-1b1-add-required-dial-peers-on-cube-for-cisco-ucm-routing-approx-5-min","title":"Module 1b.1: Add required dial-peers on CUBE for Cisco UCM routing [Approx 5 min]","text":"<p>We need to add two dial-peers (inbound and outbound) on CUBE for routing calls to/from CUCM.</p> <ol> <li> <p>Continuing on Workstation 1, go to the putty session where you have     logged into CUBE. If the previous login has timed out, log back in     again as admin and dCloud123!</p> <p>NOTE: Like before, all the commands that you need to execute in  this section are saved in a text file named MSFT-To-UCM.txt and  put on Workstation'1 Desktop. We recommend copying the commands from  that text file and pasting it onto Putty, to avoid any formatting  issues from PDF/Word. You can still follow this guide for command  explanations.</p> <p>IMPORTANT NOTE: Be cautious of copying &amp; pasting the  commands/certificates as adding an extra space or leaving a character  out would cause issues and that involves a lot of troubleshooting and  redoing of those commands.</p> </li> <li> <p>Add below voice class uri and an inbound dial-peer for accepting the     inbound calls from CUCM (198.18.133.33)</p> <pre><code>config t\n\n    voice class uri 390 sip\n\n        host ipv4:198.18.133.33\n\n    end\n\n!\n\nconfig t\n\n    dial-peer voice 390 voip\n\n        description inbound dial-peer from Cisco UCM\n\n        session protocol sipv2\n\n        incoming uri via 390\n\n        voice-class codec 1\n\n        voice-class sip tenant 100\n\n        dtmf-relay rtp-nte\n\n        no vad\n\n    end\n\n!\n</code></pre> <p></p> </li> <li> <p>Add outbound dial-peer to route calls to CUCM using the below     commands.</p> <p>NOTE: By default, when you make an outbound call, Microsoft Teams adds +1 to the dialed number. To make it easy for configuration in the lab we are adding the destination pattern with +1 and we are adding dial-peer for only one user (Anita Perez). In production environments, you can use translation patterns on Microsoft Teams admin centre to not add +1 by default and you can generalize the dial-peer according to your organizational dial plan.</p> <pre><code>config t\n\ndial-peer voice 300 voip\n\n    description outbound to UCM\n\n    destination-pattern +16017$\n\n    session protocol sipv2\n\n    session target ipv4:198.18.133.33\n\n    voice-class codec 1\n\n    voice-class sip tenant 100\n\n    dtmf-relay rtp-nte\n\n    no vad\n\nend\n</code></pre> <p></p> </li> </ol> <p>Now cube configuration is complete for UCM calls. Save the     configuration with following command &amp; press Enter twice.</p> <p><code>copy running-config startup-config</code></p>"},{"location":"module_1/module_1/#module-1b2-configure-sip-trunk-and-route-pattern-on-cisco-ucm-to-route-calls-to-cube-approx-10-min","title":"Module 1b.2: Configure SIP Trunk and Route Pattern on Cisco UCM to route calls to CUBE [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 1, open a new browser tab. From the     browser home page go to Collaboration Admin Links &gt; Cisco     Unified Communications Manager (or you can directly connect to     https://cucm1.dcloud.cisco.com). Login as administrator &amp;     dCloud123!</p> </li> <li> <p>Once logged in to Cisco UCM go to Device &gt; Trunk. Click     Add New. It will take you to Trunk Configuration page.</p> </li> <li> <p>On the Trunk configuration page drop down option for Trunk Type     and choose SIP Trunk. Leave the rest of the options as is and     click Next.</p> <p></p> </li> <li> <p>On the Trunk Configuration page populate the following information and click Save to save the configuration. You will need to scroll down to see the Inbound Calls and SIP Information sections on the Trunk Configuration page.</p> Parameter Name Parameter Value Device Name Direct-Routing-Trunk Device Pool dCloud_DP Inbound Calls \\ Significant Digits 4 Inbound Calls \\ Calling Search Space Call_Everyone SIP Information \\ Destination \\ Destination Address 198.18.133.231 SIP Information \\ SIP Trunk Security Profile Non Secure SIP Trunk Profile SIP Information \\ SIP Profile dCloud Standard SIP Profile <p></p> <p></p> <p></p> </li> <li> <p>Once the Trunk is saved, click Reset and click Reset again     on the pop-up window to confirm. Within two minutes the trunk should     come into Full Service as shown below.</p> <p></p> </li> <li> <p>Now, on the Cisco UCM go to Call Routing &gt; Route/Hunt &gt;     Route Pattern. Click Add New</p> </li> <li> <p>On the Route Pattern Configuration page populate the following and     Click Save. Click OK to accept any pop-up windows while     saving the route pattern.</p> <pre><code>-----------------------------------------------------------------------\nParameter                     Value\n----------------------------- -----------------------------------------\nRoute Pattern                 6018\n\nRoute Partition               Base_PT\n\nGateway/Route List            Drop down and choose Direct-Routing-Trunk\n-----------------------------------------------------------------------\n</code></pre> <p></p> </li> <li> <p>This completes the configuring SIP Trunk and route patterns on Cisco     UCM. Now, you have routing configured between Microsoft Teams &amp;     Cisco UCM (both ways) using CUBE.</p> </li> </ol>"},{"location":"module_1/module_1/#module-1b3-testing-the-calls-between-microsoft-teams-and-cisco-ucm-using-cube-approx-5-min","title":"Module 1b.3: Testing the calls between Microsoft Teams and Cisco UCM using CUBE [Approx 5 min]","text":"<ol> <li> <p>Open RDP connection to Workstation 2 using the one of the methods     described in Accessing the lab section. Credentials for     workstation 2 (Anita Perez) are dcloud\\aperez &amp; dCloud123!</p> </li> <li> <p>Once logged into workstation 2, open Cisco Jabber from the     desktop. The Jabber application should auto login as Anita     Perez. If not, enter the email address aperez@dcloud.cisco.com     on Jabber and click Continue. ON the next screen, enter username     as aperez and password as dCloud123! Click Login.</p> <p></p> </li> <li> <p>Now, let's make inbound call towards Microsoft Teams. From Cisco     Jabber (as Anita Perez), dial 6018 (extension number of     Charles Holland on Microsoft Teams). Answer the call on     Workstation 1 Microsoft Teams (as Charles Holland). Make     sure the call gets connected. Wait for few seconds and hang up the     call.</p> <p>NOTE: You will not be able to hear the audio because we are using virtual workstations and microphone is not available.</p> <p></p> </li> <li> <p>Now, let's try to make outbound call from Microsoft Teams. From     workstation 1 (as Charles Holland) dial extension number     6017 (extension number of Anita Perez on Cisco CUM). Answer     the call on Workstation 2 Cisco Jabber (as Anita Perez). Make sure     the call gets connected. Wait for few seconds and hang up the call.</p> </li> <li> <p>This completes testing the calling between Microsoft Teams and Cisco     UCM using CUBE.</p> </li> </ol>"},{"location":"module_2/module_2/","title":"Module 2","text":""},{"location":"module_2/module_2/#module-2-cisco-call-for-microsoft-teams-webex-calling-approx-1-hr-40-min","title":"Module 2: Cisco Call for Microsoft Teams (Webex Calling) [Approx 1 hr 40 min]","text":"<p>With Cisco Call for Microsoft Teams, the Microsoft Teams users can access the enterprise-grade Webex Calling experience directly in the Microsoft Teams app. With a single click from the Microsoft Teams interface, you can access a complete suite of Webex Calling features. The features include directory search, PSTN dialing, speed dials, voicemail, call history, and artificial intelligence-powered background noise removal.</p> <p></p> <p>This integrated app works with the Cisco Unified Communications Manager (UCM) call-control solution, Webex Calling for cloud deployment or the Dedicated Instance offering.</p> <p>This would be the call flow diagram when using Webex Calling Multitenant as the call control:</p> <p></p>"},{"location":"module_2/module_2/#module-2a-configure-single-sign-on-sso-for-control-hub-approx-15-min","title":"Module 2a: Configure Single Sign-On (SSO) for Control Hub [Approx 15 min]","text":"<p>NOTE: If you have completed module 3, you would have configured the SSO already as part of that module. So, you can skip this section and go to next section directly. If you have not run through module 2 yet, you can continue to configure SSO.</p> <p>Microsoft tenant information for your lab:</p> <p>If you have your own identity provider (IdP) in your organization, you can integrate it with Control Hub for single sign-on (SSO). SSO lets your users use a single, common set of credentials for Webex App applications and other applications in your organization.</p> <p>Cisco Webex supports a wide variety of IdPs for Single Sign-On configuration like Microsoft (both O365 and AD FS), Okta, PingFederate, Duo, etc.,</p> <p>In this lab, we will explore the SSO configuration with Microsoft O365.</p> <p>Integrating O365 with your Webex Control Hub you can also import/synchronize users and groups from Microsoft O365, Import Avatars (user profile pictures), define user attributes for mapping (like first name, email, etc.,) and configure SSO. In this lab, we will explore SSO configuration only.</p> <ol> <li> <p>Open RDP connection to Workstation 5 at 198.18.135, using one of the options mentioned in Accessing your Lab module. Use the credentials dcloud\\kmelby &amp; dCloud123!</p> </li> <li> <p>Once connected to workstation, open the chrome browser from desktop and from home page go to Cisco Webex Links &gt; Cisco Webex Control Hub or you can directly go to https://admin.webex.com &amp; log in with cholland@cbXXX.dc-YY.com and dCloudAAAA!</p> <p>NOTE: You need to Replace XXX, YY (in domain name) &amp; AAAA (in password) with your session-specific details. If you haven't already done as explained in Accessing your lab section, go to Lab_info.txt file located on your workstation 1 and copy the domain and password.</p> <p></p> <p>NOTE: If you are asked for a PIN when signing to Control Hub or to the Webex App, you can get this pin by signing in to Outlook Web Access under the Collaboration User Links on your Chrome browser new tab.</p> <p></p> <p></p> <p>Insert dCloud\\cholland as the username (for Charles Holland) and dCloud123! as your password.</p> <p></p> <p>You will find the PIN requested in your Inbox:</p> <p></p> </li> <li> <p>For security reasons, Webex Control Hub signs out every 20 minutes (Idle timeout) by default. For this lab, let's make the idle time out longer so the Control Hub does not sign you out often during this lab. Go to MANAGEMENT &gt; Organization Settings &gt; Control Hub's idle timeout. Drop down the option for Control Hub idle timeout and select 12 hours or no timeout. Click Save.</p> <p></p> </li> <li> <p>Continuing on Organization Settings page, scroll down to the section Microsoft Entra ID Wizard App and click Set up.</p> <p></p> </li> <li> <p>It will take you to the Microsoft authentication page. Log in with the Microsoft credentials cholland@cbXXX.dc-YY.com &amp; dCloud123! Click Login.</p> <p>NOTE: You need to replace XXX &amp; YY in domain name with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located on your workstation 1 and copy the domain and password.**</p> </li> <li> <p>On the following page, Microsoft login page will show you the permissions required. Review the permissions. Check mark option for Consent on behalf of your organization. Click Accept.</p> <p></p> </li> <li> <p>On the following page, you will be promoted for login again to Microsoft Org. Select the cholland@cbXXX.dc-YY.com from available logins, it should not prompt for password. Now, it will show you all details about permissions that are required for SSO configuration. Click Accept.</p> <p></p> </li> <li> <p>You will be taken back to Webex Control Hub and a pop-up window will be displayed. You might be asked if you want to create a new app ir migrate an existing one. If that's the case, select \"Create new app\". If not, go to the next step.</p> <p></p> </li> <li> <p>Then, you will be prompted with another pop-up window. Keep the radio button selected for Sync defaults and click Proceed.</p> <p></p> </li> <li> <p>It will create the instance/integration with Microsoft tenant. It will take around 2 to 3 minutes for the process to complete.</p> </li> <li> <p>Once the integration process is completed, Job status will be displayed NotRun.</p> <p></p> </li> <li> <p>Within few min the Job status would change to Active. Wait until the job status is changed to Active. You may need to refresh the page, after 2 to 3 minutes, to see the updated status. At this point all users from your Microsoft tenant should be imported to Webex under MANAGEMENT &gt; Users. Notice few users with status Verified indicating they are imported from a trusted source (in this case the Microsoft tenant that we are integrating with).</p> </li> <li> <p>Now go back to MANAGEMENT &gt; Organization Settings and scroll down to the Microsoft Entra ID  Wizard App section. Click the three dots on the right side and select Edit Configuration.</p> <p></p> </li> <li> <p>It will bring up the Microsoft Entra ID integration page, under Attributes tab drop down the field phoneNumbers[type eq \"work\"].value &amp; choose telephoneNumber from the drop down list.</p> <p></p> </li> <li> <p>Now, go to More tab and select the checkbox option for Activate single sign-on and click Save.</p> <p></p> </li> <li> <p>You have now successfully enabled single sign-on for your Webex tenant. From now on, all logins to this Webex tenant will be redirected to Microsoft for authentication &amp; you will use cholland@cbXXX.dc-YY.com &amp; dCloud123! for logging into Webex Control Hub.</p> </li> <li> <p>This completes the SSO configuration!.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2b-ordering-pstn-numbers-for-users-approx-10-min","title":"Module 2b: Ordering PSTN Numbers for users [Approx 10 min]","text":"<p>For Webex Calling, the DID numbers and call control is controlled by Webex Cloud. We need to order 5 new DID numbers for calling scenarios in this module.</p> <ol> <li> <p>Continuing on workstation 5, go back to the browser where you logged into Cisco Webex Control Hub. or go to https://admin.webex.com &amp; Login as cholland@cbXXX.dc-YY.com &amp; dCloud123!, if the previous login is timed out.</p> </li> <li> <p>Go to SERVICES &gt; PSTN &amp; Routing. Click + Add Numbers.</p> <p></p> </li> <li> <p>On the Add Numbers page, drop down the option for Location and choose dCloud. Since we are setting up this location for the first time, first we need to select the PSTN Connection for this location. Click Edit PSTN.</p> <p></p> </li> <li> <p>You will be taken to Edit PSTN connection for dCloud (Location) and under the connection type choose Cisco Calling Plans and click Next.</p> <p>NOTE: If you do not see the option Cisco Calling Plans, close the page and repeat steps 2 through</p> <p></p> <p>NOTE: If its taking long on the page to load after selecting Cisco Calling Plan, close the page (top right corner x mark) &amp; go to MANAGEMENT &gt; Locations.  Select dCloud on the locations page and go to Calling tab.  On the Calling tab drop down Manage option for PSTN connection and enter Emergency Contact information and service address one by one manually (using the same information from steps 5 through 8).  Then go to SERVICES &gt; Calling &amp; click Add numbers  then continue from step 10</p> <p></p> </li> <li> <p>Enter the following information &amp; leave rest of the fields blank and click Next.</p> Parameter Value First Name Charles Last Name Holland Email Address &amp; Confirm Email Address cholland@cbXXX.dc-YY.com <p>NOTE: You need replace domain with the domain assigned for your session (from Lab_info.txt file).</p> <p></p> </li> <li> <p>On the pop up window click Yes, Change.</p> </li> <li> <p>Under the Emergency disclaimer, read &amp; scroll the disclaimer information all the way down. Enter Authorized Contact as Charles Holland and title as Engineer &amp; Click Agree and Continue.</p> <p></p> </li> <li> <p>Under Emergency Services Address, leave everything default for address and Save. Click Apply for suggested address. Click Save</p> <p></p> </li> <li> <p>It will save all the information for PSTN connection we entered and take you summary page. On the following page, click Add numbers.</p> <p></p> </li> <li> <p>On the Add Numbers page, make sure location is selected as dCloud and the number type is selected as PSTN number. Keep the option Order New Numbers is selected and click Next.</p> <p></p> </li> <li> <p>On the Specify numbers you want to order page, drop down the option for State/Province/Region and choose any of the available states in United States (In this lab we support Cisco PSTN ONLY for United States).</p> </li> <li> <p>Keep the search by option as Area Code and drop down the option for Area Code &amp; choose any of area code of your choice. For How may numbers do you want auto-selected for you? Enter 5 and click Search.</p> <p></p> </li> <li> <p>On the next page, it will show you list of available number in that area code that you specified above. It will auto select five numbers. If you like any specific number from list that is not auto selected, you can unselect one of the auto selected number and select that number you like. For now, just keep the auto selected numbers as is and click Order.</p> <p></p> </li> <li> <p>Order will be submitted for these numbers. On the following page, click View orders. The status will read Pending then change to Provisioned in few seconds. You may need to refresh the page to see the correct/accurate state or select the order to view the slide out window.</p> </li> <li> <p>Click on the order you placed (Order ID) &gt; Phone Numbers to verify all phone numbers are provisioned.</p> <p></p> <p>Webex will not let incoming or outgoing PSTN calls until a Main phone number is assigned to the location. So first we need to assign one of these number to the location.</p> </li> <li> <p>On Webex Control Hub page Navigate to MANAGEMENT &gt; Locations.</p> </li> <li> <p>On the locations page select the existing location dCloud</p> </li> <li> <p>On the dCloud location page, go to PSTN tab</p> </li> <li> <p>Observe, under Main number drop down option, there is a warning saying You will not be able to make or receive calls until this number is added.</p> </li> <li> <p>Drop down the Main number option and choose one of the numbers we ordered above and click Save.</p> </li> <li> <p>Observe that as soon as main number is assigned to location, the warning will be gone. Indicating now you will be able to make and receive calls from this location.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2c-assign-webex-calling-licenses-and-configure-users-for-microsoft-presence-sync-approx-10-min","title":"Module 2c: Assign Webex Calling licenses and configure users for Microsoft Presence Sync [Approx 10 min]","text":"<p>In this section of the lab, we will use Kellie Melby and Taylor Bard users. Let's enable presence (with Microsoft) and assign Calling Licenses for both users on Webex Control Hub.</p> <ol> <li> <p>Continuing on Workstation 5, go to the browser tab where you had the Webex Control Hub open.</p> </li> <li> <p>We can enable Presence Sync for the whole organization. It is not possible to enable it for individual users only, although this can later be managed through delegated Microsoft Graph API permissions.</p> </li> <li> <p>On the Control Hub, go to SERVICES &gt; Calling. On the Calling page, go to Settings. Click on the tab Webex App</p> </li> <li> <p>On the  Webex App tab, scroll down to the Microsoft Teams Integration section and toggle the radio button Presence Sync &amp; Hide Webex windows. If the option Optimize Webex app for Microsoft Teams experience is toggled ON, untoggle it for now. We will explore this option later.</p> <p>NOTE: If you have completed module 3, you may have already completed enabling Presence Sync &amp; Hide Webex Windows. You can skip steps 3 and 4 above.</p> <p></p> </li> <li> <p>Now, let's assign a Webex Calling license for users. On the left-side pane, go to MANAGEMENT &gt; Users and choose Kellie Melby from the list.</p> </li> <li> <p>Scroll down on the summary page and click Edit Licenses.</p> <p></p> </li> <li> <p>On the Edit services for kmelby@cbXXX.dc-YY.com page, click Edit Licenses again.</p> </li> <li> <p>On the next page, go to the Calling tab. Checkmark both options for Webex Calling &amp; Professional. Also, uncheck options for Messaging and Meeting to deploy phone-only services for this user. Click Save.</p> <p></p> </li> <li> <p>On the next page, drop down the option for Location and choose dCloud, then drop down the option for Phone Number and choose one of the available numbers (that we ordered in the above section). Make sure you select a number other than the one you assigned to the location Main Number. Click Save. Click Close.</p> <p></p> <p>NOTE: Take note of the phone number being assigned to Kellie and Taylor. We will add these numbers to the contact information of users on Microsoft in the following steps.</p> </li> <li> <p>Go back to MANAGEMENT &gt; Users again and, on the users page, choose <code>&lt;tbard@cbXXX.dc-YY.com&gt;</code> and repeat steps 6 through 9.</p> <p>NOTE: Once both users are assigned licenses and phone numbers, let's add these newly assigned phone numbers to user contacts on Microsoft. Users can use the click-to-dial feature in Microsoft Teams.</p> </li> <li> <p>Continuing on Workstation 5, open a new browser tab and, from the home page, go to Collaboration Admin Links &gt; Microsoft Admin Center, or directly open the Admin Center at https://admin.microsoft.com. Log in with credentials <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!.</p> </li> <li> <p>Once logged in, go to Users &gt; Active Users on the left-side pane.</p> </li> <li> <p>On the Active Users page, select Kellie Melby. It will bring up a fly-out window for the user configuration. On the fly-out window, scroll a little down and click Manage contact information.</p> </li> <li> <p>On the Manage contact information page, scroll down and find Office phone. Enter the same phone number you assigned to Kellie on Webex. Enter the phone number in E.164 format, for example: <code>+19725556038</code>. Click Save changes. Click Close to close the fly-out window.</p> <p></p> </li> <li> <p>Similarly (steps 11 to 14), assign the number to Taylor Bard (use the same phone number you assigned to Taylor on Webex, and remember to enter the phone number in E.164 format, for example: <code>+19725556023</code>).</p> <p>NOTE: Sometimes Microsoft takes a long time to update contact information, and you may not be able to find it on Microsoft Teams immediately. This is not a limitation of the lab or Webex; it's just Microsoft Cloud taking longer to update contact information.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2d-publish-the-cisco-calling-app-on-microsoft-tenant-and-disable-native-teams-caling-approx-10-min","title":"Module 2d: Publish the Cisco Calling app on Microsoft tenant and disable Native Teams Caling [Approx 10 min]","text":"<p>Now let's publish and authorize the Cisco Calling app for the whole Microsoft Organization so that each user is not prompted for authorization. Additionally, we will disable the Microsoft Native Calling option so users will not get confused between Microsoft Native Calling and Webex Calling.</p> <p>NOTE: If you have completed module 3, you may have already published the Cisco Call app. If so, you can skip the rest of the steps (16 through 23) and go to the next module.</p> <ol> <li> <p>First, we are going to hide the Teams-to-Teams Calling button. Continuing in the Microsoft Admin Center, on the left-side page, click Show all to see all admin centers. Under Admin Centers, select Teams.</p> <p></p> </li> <li> <p>It will open the Microsoft Teams Admin Center in a new tab. Once the Teams Admin Center is opened, go to Voice &gt; Calling policies. On the Calling Policies page, select the radio button for Disallow Calling and click on Manage Users/Assign users.</p> <p></p> </li> <li> <p>It will bring up fly-window to assign users. Search and add the users Kellie Melby and Taylor Bard, and click on Apply. Click on Confirm in the pop-up window.</p> <p> </p> </li> <li> <p>Now, let's publish the Cisco Call app for the organization so that each user does not need to request admin authorization. Continuing in the Teams Admin Center, on the left-side page, go to Teams apps &gt; Manage apps.</p> <p>NOTE: If you have already completed module 2, you may have already completed publishing and granting permissions for Cisco Call.</p> </li> <li> <p>On the Manage Apps page, search for Cisco Call on the right. Select the Cisco Call app that is listed.</p> <p></p> </li> <li> <p>On the Cisco Call app page, go to the Permissions tab. Under the Permissions tab, click Grant admin consent. It will bring up a pop-up window to authorize as an admin. Log in as <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!. It will prompt you to accept some permissions. Click Accept.</p> <p> </p> <p>NOTE: Some permissions are considered delegated level, while others are application level. Below is a description of the permissions used by Cisco Call for Microsoft Teams, and what changes are coming in June 2025.</p> <p> </p> </li> <li> <p>At this point, any user in the organization can go to Apps on Microsoft Teams and add the Cisco Call app from the store.</p> <p>NOTE: As an Organization Admin, you can also install/publish this app for all users. To publish the app for all users, go to Teams apps &gt; Setup policies and update Global (Org-wide default) to include the Cisco Call app.</p> <p></p> </li> <li> <p>Now Microsoft and Webex tenants &amp; users are ready for use.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2e-testing-scenarios-for-microsoft-integration-with-webex-webex-calling-approx-75-min","title":"Module 2e: Testing scenarios for Microsoft Integration with Webex (Webex Calling) [Approx 75 min]","text":"<p>In this module, we will make some test calls to internal, PSTN, configure multiple features, watchlist, and Call Queues. This module consists of a total of 11 testing scenarios described below.</p>"},{"location":"module_2/module_2/#logging-into-clients-approx-10-min","title":"Logging into Clients [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 5, open Microsoft Teams from Desktop and log in as <code>&lt;kmelby@cbXXX.dc-YY.com&gt;</code> with password dCloud123!. Click OK. Click Done.</p> <p>NOTE: DO NOT click No, this app only.</p> <p></p> </li> <li> <p>Accept any information/warning messages while logging in. If you have added Cisco Call as an admin in Module 2c, jump to step 3. If not, once logged in, click the eclipse icon (three dots) on the left side pane. On the new fly-out window, search for Cisco Call. It will list the Cisco Call app. Click Add. It will add Cisco Call app to Microsoft Teams and take you to the login screen.</p> <p></p> </li> <li> <p>On the Cisco Call App, click Continue.</p> <p></p> </li> <li> <p>This will use the same email address used to log in to Microsoft Teams. As we have an active session, you will be signed into Cisco Call on Microsoft Teams.</p> </li> <li> <p>At this point, the Webex App will pop up for you to log in. Log in as <code>&lt;kmelby@cbXXX.dc-YY.com&gt;</code> with password dCloud123!.</p> <p></p> </li> <li> <p>As we chose to hide the Webex windows, once the user logs in, the Webex App window will disappear. You will be prompted with a notification about Emergency Calling. Click OK.</p> <p></p> </li> <li> <p>You might get a pop-up window guiding you through the new features of the Cisco Call app. Click on Next. Then, click on Later when it asks you to use the Calling Dock, as we will explore this feature later.</p> <p></p> </li> <li> <p>Finally, right-click on the Cisco Call app on the left side pane and click Pin. This ensures it is always visible for easier access. If you have published the Cisco Call app for the entire organization under setup policies on the Microsoft Teams Admin Center, you will see the Cisco Call app pinned already.</p> <p></p> <p>NOTE: If you do not see the Cisco Call app on the left side, click on the three dots on the left side pane again, right-click on the Cisco Call app, and select Pin so the application always displays on the left side pane for easier access.</p> </li> <li> <p>Now both of your clients on Workstation 5 are ready for use.</p> </li> <li> <p>Open an RDP connection to Workstation 6 using one of the methods described in the Accessing Your Lab module above. Repeat the steps above (1 through 9) on Workstation 6 using the credentials <code>&lt;tbard@cbXXX.dc-YY.com&gt;</code> and dCloud123!.</p> </li> </ol> <p>NOTE: Make sure you are logged in to both clients on both Workstations 5 and 6 before continuing.</p>"},{"location":"module_2/module_2/#module-2e1-calling-scenarios-1-of-11-making-an-internal-call-approx-5-min","title":"Module 2e.1: Calling Scenarios 1 of 11 - Making an Internal Call [Approx 5 min]","text":"<ol> <li> <p>Continuing on Workstation 5 as Kellie Melby, go to the Cisco Call app on Microsoft Teams (on the left-side pane) and search for Taylor Bard (right above the dial pad).</p> </li> <li> <p>It will search the directory for Taylor Bard and display options to call. Click on either Audio or Video. It will display all available contact methods for Taylor, like Phone number, Email, etc. Click on any of the options to place the call.</p> <p></p> </li> <li> <p>Answer the call on Workstation 6 (as Taylor Bard). Verify that the call gets connected. Wait a few seconds and hang up the call. Also, verify the call status reflects as shown below.</p> <p>NOTE: Click OK for the warning No Microphone Found message. You will not be able to hear audio in either direction as we are using virtual workstations and the microphone is not available.</p> <p>NOTE: If you do not see the correct status, try to bring Microsoft Teams into the foreground or initiate a chat conversation between Kellie and Taylor.</p> <p></p> </li> <li> <p>As soon as the call is hung up, verify that Kellie's availability status changes to Available.</p> <p></p> </li> <li> <p>You will see the up-to-date call history synchronized/reflected in the Cisco Call app on Microsoft Teams. To verify the call history, go to Cisco Call app &gt; Recent Calls as shown below.</p> <p></p> </li> <li> <p>Similarly you can dial any PSTN number in E.164 format (+1AAABBBCCCC). Or you can dial the Cisco support number +18005532447. You can also make inbound calls to Kellie Melby DID number (you can find it in session details or in the file lab_info.txt) from your mobile. If you cannot dial US phone numbers from your mobile, reach out to one of your proctors.</p> <p>NOTE: You will only be able to call US numbers in this module, as the Webex location is created in the USA and ordering Cisco Calling Plan numbers is only available for the USA.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2e2-calling-scenarios-2-of-11-notification-badge-and-cisco-call-bot-approx-5-min","title":"Module 2e.2: Calling Scenarios 2 of 11 - Notification Badge and Cisco Call Bot [Approx 5 min]","text":"<p>For Cisco Call for Microsoft Teams, notifications are shown in two manners:</p> <ul> <li>Notification Badge: It shows a red 1 next to the Cisco Call app within Microsoft Teams when there's any notification (no matter the number of notifications; it's an indicator).</li> <li>Cisco Call Bot: It notifies the user about any missed calls and voicemail messages.</li> </ul> <ol> <li> <p>On Workstation 6, as Taylor Bard, make a call to Kellie Melby and hang up the call, so that Kellie receives a missed call notification.</p> <p></p> </li> <li> <p>Go to Workstation 5, as Kellie Melby. Notice there's a notification badge next to the Cisco Call icon on the left-hand side. This means the user has received a missed call or a voicemail.</p> <p></p> </li> <li> <p>Click on the Chat icon and go to Cisco Call chat. As soon as you open the chat with the bot, the notification badge disappears from the Cisco Call tab. Notice there's a new message regarding a missed call from Taylor Bard.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e3-calling-scenarios-3-of-11-making-calls-from-microsoft-teams-chat-window-approx-5-min","title":"Module 2e.3: Calling Scenarios 3 of 11 - Making Calls from Microsoft Teams Chat Window [Approx 5 min]","text":"<ol> <li> <p>Continuing on Workstation 5, go to the Microsoft Teams app and go to Chat on the left-side page. On the top search window, search for Taylor Bard.</p> <p></p> </li> <li> <p>Initiate a chat conversation with Taylor Bard and send a few messages back and forth.</p> </li> <li> <p>Click on the + sign towards the right side of the typing window for chat and select Cisco Call from available options.</p> <p></p> </li> <li> <p>It will bring up available calling options for Taylor Bard. Choose either Phone number or Email Address from the drop-down option. Then choose either Audio or Video option to make the call.</p> <p></p> </li> <li> <p>Answer the call on Workstation 6, verify that the call is connected, and confirm that the presence status is updated to show that Taylor (and Kellie) is In a call. Hang up the call after a few seconds.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e4-new-calling-scenarios-4-of-11-optimize-webex-app-for-microsoft-teams-experience-approx-3-min","title":"Module 2e.4 (NEW): Calling Scenarios 4 of 11 - Optimize Webex App for Microsoft Teams Experience  [Approx 3 min]","text":"<p>We are going to enable a feature on Control Hub that makes the Webex App optimized for being used with Microsoft Teams. This option enables:</p> <ul> <li>Webex branding removal</li> <li>Linking Calling Dock to MS Teams (shortcut to Call History, Voicemail, and Simplified Call Settings)</li> <li>Ability to mute Webex calls when on Teams meetings</li> </ul> <ol> <li> <p>Continuing on Workstation 5, go back to the browser tab where you logged into Webex Control Hub. On Control Hub, go to MANAGEMENT &gt; Users, choose user Kellie Melby. On the user page, go to the Calling tab. On the calling tab, scroll down to User call experience &gt; Microsoft Teams Integration. On the Microsoft Teams integration page, toggle on for option Optimize Webex App for Microsoft Teams Experience. Click on Save.</p> <p></p> </li> <li> <p>Restart the Webex App to apply the changes by clicking on Exit from the System tray (right-click + Exit).</p> <p></p> </li> <li> <p>You will see a new banner on the Cisco Call App (we will explore it latter). Click on Sign in on the banner that shows the Cisco Call tab to re-open the Webex App.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e5-new-calling-scenarios-5-of-11-making-a-call-with-the-optimized-experience-approx-3-min","title":"Module 2e.5 (NEW): Calling Scenarios 5 of 11 - Making a Call with the Optimized Experience [Approx 3 min]","text":"<ol> <li> <p>Continuing on Workstation 5 as Kellie Melby, go to the Cisco Call app on Microsoft Teams and make another call to Taylor Bard.</p> </li> <li> <p>Notice the Webex logo is not shown within the in-call window anymore, as the option Optimize Webex App for Microsoft Teams Experience is enabled for this user.</p> <p></p> </li> <li> <p>Hang up the call.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2e6-new-calling-scenarios-6-of-11-presence-sync-mute-webex-app-calls-when-on-teams-meetings-approx-10-min","title":"Module 2e.6 (NEW): Calling Scenarios 6 of 11 -- Presence Sync: Mute Webex App Calls When on Teams Meetings [Approx 10 min]","text":"<p>Presence sync is supported between Microsoft Teams and Webex for the following statuses:</p> <p></p> <p>When on a Microsoft Teams meeting or call, users might want to decide if they want to receive or decline calls. The status when on a Teams Meeting or a call will show as \"In a call\" in Microsoft Teams, and as \"On a call\" in the Webex App.</p> <p>However, this presence status itself doesn't mean incoming calls will be muted, but two settings are required for this to happen:</p> <ul> <li>Organizational setting: Optimize Webex App for Microsoft Teams experience must be enabled for the user, group, or organization.</li> <li> <p>User setting: Under Call Settings, Call Notifications can be set to Always mute or to Only mute notifications when I'm in a meeting or on a call. These settings apply to either Webex calls or meetings, and also to Microsoft Calls and Meetings if the option \"Optimize Webex App for Microsoft Teams Experience\" is enabled for that user.</p> <p></p> </li> </ul>"},{"location":"module_2/module_2/#lets-explore-the-option-only-mute-notifications-when-im-in-a-meeting-or-on-a-call","title":"Let's explore the option Only mute notifications when I'm in a meeting or on a call.","text":"<ol> <li> <p>Continuing on Workstation 5, go to Microsoft Teams. Go to the Meet tab of left side pane and click on Meet now. Then click on Start a meeting to start a Microsoft Teams meeting.</p> <p></p> </li> <li> <p>Select any audio option and click on Join now. Click close for option Invite people to join you pop-up window</p> <p></p> </li> <li> <p>Leave the meeting open and go back to the Cisco Call tab within Microsoft Teams. Notice Kellie's status has changed to \"In a call.\"</p> <p></p> </li> <li> <p>Open Call Settings within the Cisco Call tab. It will bring up settings for the Webex App. Notice that Call Settings are now simplified in comparison to the default Call Settings from the Webex App (Simplified Call Settings).</p> <p></p> </li> <li> <p>On the settings, go to Notifications. Under Notifications, click on Calls. Ensure the option Don't mute is selected. Click Save.</p> <p></p> </li> <li> <p>Now, navigate to Workstation 6 and open Microsoft Teams (as Taylor Bard). From the Cisco Call tab, make a call to Kellie Melby's work number.</p> <p></p> </li> <li> <p>On Workstation 5, notice Kellie Melby gets the call notification toast. Decline the call on Workstation 5 as Kellie Melby and/or hang up the call on Workstation 6 as Taylor Bard.</p> <p></p> </li> <li> <p>Now, on Workstation 5, open Call Settings within the Cisco Call tab. It will bring up settings for Webex App. Go to Notifications. Under Notifications, click on Calls. Select the option Only mute notifications when I'm in a meeting or on a call. Click Save.</p> <p></p> </li> <li> <p>Repeat the call from Taylor Bard to Kellie Melby: Navigate to Workstation 6 and open Microsoft Teams (as Taylor Bard). From the Cisco Call tab, make a call to Kellie Melby's work number.</p> <p></p> </li> <li> <p>Notice Taylor Bard can make the call, but Kellie Melby doesn't receive any notification toast while the call is happening. Hang up the call from Workstation 6, as Taylor Bard.</p> <p></p> </li> <li> <p>Go back to Workstation 5 and, still in the Cisco Call tab within Microsoft Teams, notice a new missed call from Taylor Bard under Recent Calls.</p> <p></p> </li> <li> <p>Still on Workstation 5, open the Microsoft meeting window and end the Microsoft Teams meeting.</p> <p></p> </li> <li> <p>Open Call Settings from the Cisco Call tab within Microsoft Teams and change the Call Notifications settings back to Don't Mute. Click Save.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e7-calling-scenarios-7-of-11-calling-dock-approx-5-min","title":"Module 2e.7: Calling Scenarios 7 of 11 - Calling Dock [Approx 5 min]","text":"<p>The Webex Calling Dock (formerly multi-call window) is a user-enabled setting to maximize calls for multiple lines and manage calls effectively. It can act as a companion app for Microsoft Teams. It also helps to hide the Webex app during calls.</p> <ol> <li> <p>Continuing on Workstation 5, on Microsoft Teams go to the Cisco Call app on the left-side pane. Click on the ellipsis menu on the right-hand side (next to Call Settings) and toggle on the Calling Dock to enable it.</p> <p></p> </li> <li> <p>Notice that Webex will bring a small call window (called Calling Dock). You can use this Calling Dock for any calling functions like making calls, answering calls, recent calls, using the dial pad, and accessing voicemail.</p> </li> <li> <p>Drag and drop the Calling Dock to the right side of the screen to notice it minimizes itself (docking feature).</p> <p></p> </li> <li> <p>Hover your mouse over the new dock icon on the right to see the Calling Dock without keeping it open. Click on the dock to maximize the Calling Dock again.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e8-calling-scenarios-8-of-11-multi-line-approx-5-min","title":"Module 2e.8: Calling Scenarios 8 of 11 - Multi-Line [Approx 5 min]","text":"<p>You can set up a profile with multiple lines with different phone numbers for calling. You can switch lines if you need to make outgoing calls from different lines, such as a front desk line, support team line, or an individual line with a different caller ID.</p> <ol> <li> <p>Continuing on Workstation 5, go back to the browser tab where you logged into Webex Control Hub, go to SERVICES &gt; Calling, and on the Calling page go to Virtual Lines. Click Create.</p> <p></p> </li> <li> <p>On the Add Virtual Line page, populate the following and click Add:</p> <ul> <li>First Name: Kellie</li> <li>Last Name: Melby</li> <li>Display Name: Kellie Melby -- Personal</li> <li>Location: Select dCloud</li> <li>Phone Number: Choose a number other than the one assigned to the Main Number and users Kellie and Taylor.</li> </ul> <p></p> </li> <li> <p>It will add the Virtual Line and take you to the next page with a couple of options. On the next page, choose Assign.</p> <p></p> </li> <li> <p>On the Assign Device dropdown menu, select Kellie Melby. Webex App. dCloud. +1XXXXX, as shown below. Click Assign.</p> <p></p> </li> <li> <p>On the next page, for Line Label, give a name like Personal Line or something descriptive of your choice. Click Save.</p> <p></p> </li> <li> <p>Now Webex will have two lines configured. To make them appear in the Calling Dock, restart the Webex App by clicking on Exit from the System tray (right-click + Exit).</p> <p></p> </li> <li> <p>Then, click on Sign in on the banner that shows the Cisco Call tab to re-open the Webex App.</p> <p></p> </li> <li> <p>The Calling Dock will open again, showing both lines now: Kellie Melby and Personal Line.</p> <p></p> </li> <li> <p>Click on Kellie Melby name (top-left corner) on the Calling Dock to switch from the line Kellie Melby to the Personal Line (the line that you added above) to make outbound calls.</p> <p></p> </li> <li> <p>Now, search for Taylor Bard on the Calling Dock and click on the call button. Answer the call on Workstation 6. Verify that the call gets connected.</p> <p></p> </li> <li> <p>Also, on Workstation 5, observe that the call is made from Line 2 (Personal Line) of Kellie Melby.</p> <p></p> <p>NOTE: Call Presence status is currently not supported on secondary lines for Webex Calling Multitenant.</p> </li> <li> <p>Hang up the call after a few seconds. On Workstation 5, now make the call from the Cisco Call tab within Microsoft Teams. You can make the call from the Recent Calls tab. Notice the call goes through the secondary line as well.</p> <p> </p> </li> <li> <p>Hang up the call after few seconds. Now, switch back to the primary line on the Calling Dock (Kellie Melby) by clicking on the current line (Personal Line) on the top-left corner of the Calling Dock. It will display both lines for Kellie. Click on the line named Kellie Melby.</p> <p></p> <p>NOTE: Make sure you switch to the primary line before continuing to the next module.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2e9-calling-scenarios-9-of-11-new-phone-disconnection-banner-approx-3-min","title":"Module 2e.9: Calling Scenarios 9 of 11 (NEW) - Phone Disconnection Banner [Approx 3 min]","text":"<p>When phone services are disconnected (for example, when the Webex App is logged out), there will be a banner showing that in the Cisco Call App. It also appears when it detects the Webex App is not running (when you exit from it), as we have seen before. Let's test the experience when signing out from the Webex App.</p> <ol> <li> <p>Continuing on Workstation 5 as Kellie Melby, go to the taskbar to find the Webex App. Click on the icon to open it.</p> <p></p> </li> <li> <p>Click on Kellie's avatar and on Sign Out.</p> <p></p> </li> <li> <p>On Cisco Call app page in Microsoft Teams, a new banner will appear on the Cisco Call App advising you about your phone services being disconnected.</p> <p></p> </li> <li> <p>Click on Sign in on the banner to connect them again. If this banner is there because you are logged out from the Webex App, it will ask you to log in to the Webex App by bringing in the Webex App sign-in page.</p> </li> <li> <p>Notice the status of the banner is now \"Connecting\". Sign in as kmelby@cbXXX.dc-YY.com (Password: dCloud123!).</p> <p></p> </li> <li> <p>Once you log in, the banner will show that services are now connected.</p> <p></p> </li> </ol>"},{"location":"module_2/module_2/#module-2e10-optional-calling-scenarios-10-of-11-create-a-call-queue-assign-usersagents-to-call-queue-approx-10-min","title":"Module 2e.10 (OPTIONAL): Calling Scenarios 10 of 11 - Create a Call Queue &amp; Assign Users/Agents to Call Queue [Approx 10 min]","text":"<p>We can create a call queue and assign users (agents) to it. Those users will have visibility of the Call Queues they have been assigned to on the Calling Dock. They can sign in/out of the queue and set their status.</p> <ol> <li> <p>Continuing on Workstation 5, go back to the browser tab where you logged into Webex Control Hub. On the Control Hub, go to SERVICES &gt; Calling, and click on the tab Features. Then, click on Add new on the tab Call Queue.</p> <p>NOTE: You can close the information pop-up window about Webex Calling Features.</p> <p></p> </li> <li> <p>It will take you to Add Call Queue page. Assign the location dCloud and name the call queue as dCloud Call Queue.</p> </li> <li> <p>Drop down the option for Phone Number and choose one of the available PSTN numbers. Make sure to select the number other than the number assigned to Main Number. You can add the last 4 digits of the DID number for the extension field or choose to ignore that field.</p> <p></p> <p>NOTE: Make a note of the phone number assigned to the Queue here, as we will need this number to dial later.</p> </li> <li> <p>Scroll down a little, and for the Caller ID, select Direct Line under External caller ID phone number. Click Next.</p> <p></p> </li> <li> <p>Keep the defaults and click Next for the three subsequent steps:</p> <ul> <li>Call Routing Type: Circular</li> <li>Overflow Settings: Perform busy treatment</li> <li>Announcements: Welcome Message (checked) and Comfort Message (checked)</li> </ul> </li> <li> <p>On the Select Users to Add to the Call Queue screen, drop down the option Add user, workspace, or virtual line and select Kellie Melby (with primary line) and Taylor Bard. Check the option Allow agents to join or unjoin the queue. Click on Next.</p> <p></p> </li> <li> <p>Review the selected options and click Create. Click on Done on the next screen.</p> <p></p> </li> <li> <p>You will be taken back to Calling &gt; Features &gt; Call Queue, where you will see the newly created Call Queue.</p> <p></p> </li> <li> <p>Now go to the Webex Calling Dock for Kellie Melby (Workstation 5). You will find there a new icon with the status Available.</p> <p></p> <p>NOTE: If you do not see Queue Available status, exit Webex from the system tray (right-click/exit) and sign in to Phone Services on the banner from the Cisco Call tab within Microsoft Teams, as you previously did when enabling the Virtual line.</p> </li> <li> <p>Click on the Queues icon to explore the available options.</p> <p></p> </li> <li> <p>Dial the DID number that is assigned to the Call Queue. Make the call from your personal phone or ask one of the proctors to make the call for you. Notice the incoming call for one of the users (Kellie Melby or Taylor Bard). Decline the call for the user that is receiving it (in this example, Kellie on Workstation 5).</p> <p></p> </li> <li> <p>Switch to the other workstation (different from where you received the call) and notice the incoming call for the other user (in this example, the call came first to Kellie and later to Taylor, when Kellie declined the call).</p> <p></p> </li> <li> <p>Either answer the call on Workstation 6 (as Taylor) or decline it. If you choose to decline the call again, it will go back to Kellie Melby, as the Queue Behavior is configured as Circular. Hang up the call from where you made the call from.</p> </li> </ol>"},{"location":"module_2/module_2/#module-2e11-optional-calling-scenarios-11-of-11-enable-watchlist-approx-10-min","title":"Module 2e.11 (OPTIONAL): Calling Scenarios 11 of 11 - Enable Watchlist [Approx 10 min]","text":"<p>Watchlist</p> <p>Users can have a list of monitored users (Busy Lamp Field - BLF). They will see the presence status of the monitored users and can pick up their calls from the Calling Dock.</p> <p>In the Watchlist, you will see a list of people in your BLF list and can monitor their availability. If someone in your list has an incoming call, you have the option to pick up the call on their behalf. You can check if someone is available before transferring a call to them.</p> <ol> <li> <p>Continuing on Workstation 5, go back to the browser tab where you logged into Webex Control Hub. On the Control Hub, go to MANAGEMENT &gt; Users, and choose the user Kellie Melby. On the user page, go to the Calling tab. On the calling tab, scroll down to Between-user permissions &gt; Monitoring.</p> <p></p> </li> <li> <p>Drop down the option Add Monitored Line and choose Taylor Bard from the available list.</p> </li> <li> <p>You will now see Taylor Bard as part of the Monitoring List for Kellie Melby. Click on Save.</p> <p></p> </li> <li> <p>On Workstation 5, open Call Settings from the Cisco Call app within Microsoft Teams or from the Webex Calling Dock (the wheel icon).</p> <p></p> </li> <li> <p>Drop down the Notifications option and go to Calls. Under Call Pickup, look for Watchlist and uncheck the option Turn off notifications. This will allow you to do Call Pickup from your monitored users. Click on Save.</p> <p></p> </li> <li> <p>Go back to the Calling Dock for Kellie Melby and notice that Taylor Bard is now part of the Watchlist.</p> <p>NOTE: If you do not see the Watchlist, exit Webex and sign in to Phone Services again to relaunch the Webex App.</p> <p></p> </li> <li> <p>Make a phone call from your personal phone to Taylor Bard's phone number (check the phone number on the Cisco Call app within Microsoft Teams on Workstation 6 or on Control Hub). If you cannot make the call from your personal phone, ask one of the proctors to make the call for you. Don't answer this call as Taylor (Workstation 6).</p> </li> <li> <p>Switch to Workstation 5. Wait a few seconds and notice the Call Pick-up notification coming to Kellie Melby.</p> <p></p> </li> <li> <p>Click on Pick-up to pick up the incoming call. Notice the call has been established with Kellie Melby.</p> <p></p> </li> <li> <p>Hang up the call</p> </li> </ol> <p>This completes the entire Module 2: Cisco Calling Integration for Microsoft Teams (Webex Calling).</p>"},{"location":"module_3/module_3/","title":"Module 3","text":""},{"location":"module_3/module_3/#module-3-cisco-call-for-microsoft-teams-ucm-calling-approx-1-hour-45-min","title":"Module 3: Cisco Call for Microsoft Teams (UCM Calling) [Approx 1 hour 45 min]","text":"<p>With Cisco Call for Microsoft Teams for CUCM deployments, the Microsoft Teams users can access the enterprise-grade CUCM experience directly in the Microsoft Teams app. With a single click from the Microsoft Teams interface, you can access a complete suite of CUCM features. The features include directory search, PSTN dialing, speed dial, voicemail, call history, and artificial intelligence-powered background noise removal.</p> <p></p> <p>This integrated app works with the Cisco Unified Communications Manager (CUCM) call-control solution, Webex Calling for cloud deployment or the Dedicated Instance offering.</p> <p>This would be the call flow diagram when using CUCM as the call control:</p> <p></p> <p>Webex Cloud-Connected UC (CCUC) Overview [Approx 5 min Read]:</p> <p></p> <p>Webex Cloud-Connected UC (CCUC) is a suite of Webex cloud services with a single global view to manage on-premises UC and Unified CM cloud services. CCUC is an efficient, cloud-based managed services product for an on-premises Unified CM deployment. It provides a centralized cloud-based tool for analytics and troubleshooting. It allows customers to leverage the benefits of the Webex cloud while keeping critical calling workloads on premises.</p> <p>Customers can subscribe to the UC management services on Control Hub. Customers can access the Control Hub to get a single global view and host the entire on-premises Unified CM network from a single operation control panel that supports the Cisco cloud services. Cloud-Connected UC helps manage multiple clusters, for both Unified CM and Unified CM Cloud deployments. Cloud-Connected UC achieves this with plugins that are installed on individual Unified CM applications that send telemetry data to the Webex cloud. Plugins register with the Webex cloud during onboarding and are authenticated to the cloud using the Webex Common Identity framework. Subsequent updates to these plugins are automatically managed through the cloud.</p> <p>CCUC can also help to perform automated device firmware migration from Enterprise Firmware to MPP Firmware. The MPP firmware can run on certain models of the Cisco IP Phone 6800, 7800, and 8800 series. However, only the Cisco IP Phone 7800 and 8800 series can run either MPP firmware or Enterprise firmware. When an appropriate license is applied to the IP Phone, you can migrate between MPP and Enterprise firmware on the Cisco IP 7800 and 8800 series phones.</p>"},{"location":"module_3/module_3/#module-3a-get-webex-org-id-from-control-hub-approx-5-min","title":"Module 3a: Get Webex Org ID from Control Hub [Approx 5 min]","text":"<ol> <li> <p>Open RDP connection to Workstation 3 at 198.18.1.39, using one of the options mentioned in Accessing your Lab module. Use the credentials dcloud\\amckenzie and dCloud123!</p> </li> <li> <p>Open Chrome Browser from the taskbar or Desktop</p> </li> <li> <p>From Home Page, select Cisco Webex Links &gt; Cisco Webex Control Hub. Log in with cholland@cbXXX.dc-YY.com and dCloudAAAA!</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located in your workstation 1 and copy the domain.</p> <p></p> <p>NOTE: If you have completed module 2 you may have already configured SSO with Microsoft, in that case the password for cholland@cbXXX.dc-YY.com would be dCloud123!**</p> </li> <li> <p>For security reasons, Webex Control Hub signs out every 20 minutes (Idle timeout) by default. For this lab, let's make the idle time out longer so the Control Hub does not sign you out often during this lab. Go to MANAGEMENT &gt; Organization Settings &gt; Control Hub's idle timeout. Drop down the option for Control Hub idle timeout and select 12 hours or no timeout. Click Save.</p> <p>NOTE: If you have completed module 2 you may have already set the idle time out as part of that module. If so, you can skip step 5.</p> <p></p> </li> <li> <p>Now, go to MANAGEMENT &gt; Account and copy the Organization ID to a notepad on the Workstation 3 Desktop.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3b-onboard-a-uc-nodes-ucm-cuc-using-the-administrator-cli-approx-10-min-review-only","title":"Module 3b: Onboard a UC Nodes (UCM &amp; CUC) using the Administrator CLI [Approx 10 min -- Review Only]","text":"<p>IMPORTANT NOTE: When you onboard an on-prem Unified Communications device (like Cisco UCM or Cisco Unity Connection) with Webex Cloud, it takes around 30 to 45 min for the cloud to see it. Instead of making attendees onboard and wait for 45 min to sync up during the lab, we have pre-onboarded Cisco UCM and Unity Connection for this Lab. Below steps are your reference purpose only, you DO NOT need to execute any steps. After reviewing below steps you can directly move to next module 3c.</p> <ol> <li> <p>Continuing on Workstation 3, open the Putty application located on the Desktop.</p> </li> <li> <p>Open SSH connection to Cisco Unified Communications Manager at 198.18.133.33. Accept any security warnings, if prompted.</p> </li> <li> <p>Log in as administrator and dCloud123! when prompted and accept any security warnings.</p> </li> <li> <p>Once logged in, at the admin prompt, execute the below command, to start onboarding Cisco UCM with Webex.</p> <pre><code>utils ucmgmt organization **organization_id**\n</code></pre> <p>NOTE: Replace organization_id with the Organization ID you copied in above module Step 4.</p> </li> <li> <p>Now run the following command to enable the CCUC agent.</p> <pre><code>utils ucmgmt agent enable\n</code></pre> <p></p> </li> <li> <p>Run the following command to verify that the CCUC agent is running. The Agent process should show the status to be running.</p> <pre><code>utils ucmgmt agent status\n</code></pre> <p></p> </li> <li> <p>If the agent process is not running, run the following command to kick-start or restart the agent process.</p> <pre><code>utils ucmgmt agent restart\n</code></pre> <p></p> <p></p> </li> <li> <p>Check the agent status again with the command, to make sure the agent process status is running</p> <pre><code>utils ucmgmt agent status\n</code></pre> </li> <li> <p>When you see agent process status is running, you have initiated the onboarding process successfully. Make a note of the time that the process moved to the running state, you may need to reference it later.</p> </li> <li> <p>Now, let's onboard Cisco Unity Connection (CUC) node. Open new Putty session/window and open SSH connection to 198.18.133.5, accept any security warnings.</p> </li> <li> <p>Login as administrator and dCloud123!</p> </li> <li> <p>Repeat steps 4 through 9 for Cisco Unity Connection node.</p> <p></p> </li> <li> <p>Go back to browser tab where you had Webex Control Hub opened. Go to SERVICES &gt; Connected UC and click Enable Connected UC</p> <p></p> </li> <li> <p>Once Enabled, click Get Started on the UC Management tab</p> <p></p> </li> <li> <p>It will pop-up the Getting Started window, which will walk you through creating an agent file for Cisco On-Premises devices.</p> </li> <li> <p>Click Next on the Getting Started Page.</p> </li> <li> <p>Give the \"CCUC-Agent\" name in File Name. You can see in this page that if in your real live scenario you have a proxy you can define here the information of that proxy.</p> </li> <li> <p>Click Save. You have to wait a couple of minutes while the file agent is created.</p> <p>NOTE: This Agent file does not need to be downloaded in this lab as it\\'s already bundled with this version of Cisco UCM (14.0 SU3) but we will create it to get familiar with the process.</p> </li> <li> <p>Click Next.</p> </li> <li> <p>We need to create a new cluster group for Cisco UCM.</p> </li> <li> <p>Give the Cluster Group a Name and a Group Description of your choice. Example: dCloud-UCM and UCM Group.</p> <p></p> </li> <li> <p>Click Next and then click Finish.</p> </li> <li> <p>Go to Inventory under UC Management &amp; Click Add Cluster Group again and give Cluster Group Name &amp; Group Description for CUC. Example: dCloud-CUC &amp; CUC Group. Click Save.</p> <p></p> </li> <li> <p>This completes onboarding of On-Prem Cisco UC applications.</p> </li> </ol>"},{"location":"module_3/module_3/#module-3c-verify-the-onboarded-ucm-cuc-nodes-on-webex-control-hub-approx-10-min","title":"Module 3c: Verify the onboarded UCM &amp; CUC nodes on Webex Control Hub [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go back to the browser tab where Webex Control Hub was opened. Or if you have not yet logged in, go to https://admin.webex.com &amp; log in with cholland@cbXXX.dc-YY.com and dCloudAAAA! Or dCloud123! (if you have configured SSO as part of module 2)</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located your workstation 1 and copy the domain. AAAA is the last 4 digits of your session ID on dCloud</p> <p></p> </li> <li> <p>Once logged in, go to SERVICES &gt; Connected UC.</p> </li> <li> <p>On the Connected UC page click Inventory under UC Management. If you do not see inventory option, refresh the page.</p> </li> <li> <p>You will see there are two Unassigned nodes/clusters that needs assignment to a cluster group.</p> </li> <li> <p>Click Resolve.</p> <p></p> </li> <li> <p>On the next page, click Verify for cucm1.dcloud.cisco.com</p> <p></p> </li> <li> <p>It will bring up a new pop-up window for the node. Drop down the option for Change Cluster Group and choose dCloud-CUCM. Now check mark (towards right side of the node list) option for the product CUCM to confirm Verification and Click Save and Click Save.</p> <p></p> </li> <li> <p>You will be taken back to Unverified Cluster Group. Now, click Verify for cuc1.dcloud.cisco.com. Drop down the option for Change Cluster Group and choose dCloud-CUC. Now click the check mark for the product CUCM to confirm Verification and Click Save and Click Save.</p> <p></p> </li> <li> <p>Lastly, on the Control Hub, go to SERVICES &gt; Connected UC &gt; Inventory &amp; choose Details for dCloud-CUCM. Click Details (again). Click on the eclipse icon (three dots) in the top right corner and choose Service Management.</p> <p></p> </li> <li> <p>Toggle all the settings under Service Management and select the option for Yes, I agree and click Submit.</p> <p></p> </li> <li> <p>Repeat steps 9 &amp; 10 for dCloud-CUC cluster.</p> <p></p> </li> <li> <p>Now the Cisco UCM &amp; CUC servers are successfully onboarded with Cisco Webex Cloud. This completes the Onboard a UC Node using the Administrator CLI section.</p> </li> </ol>"},{"location":"module_3/module_3/#module-3d-configure-single-sign-on-sso-for-control-hub-approx-15-min","title":"Module 3d: Configure Single Sign-On (SSO) for Control Hub [Approx 15 min]","text":"<p>NOTE: If you have completed module 2, you would have configured the SSO already as part of that module. So, you can skip this section and go to next section. If you have not run through module 2 yet, you can continue to configure SSO.</p> <p>If you have your own identity provider (IdP) in your organization, you can integrate it with Control Hub for single sign-on (SSO). SSO lets your users use a single, common set of credentials for Webex App applications and other applications in your organization.</p> <p>Cisco Webex supports a wide variety of IdPs for Single Sign-On configuration like Microsoft (both O365 and AD FS), Okta, PingFederate, Duo, etc.,</p> <p>In this lab, we will explore the SSO configuration with Microsoft O365.</p> <p>Integrating O365 with your Webex Control Hub you can also import/synchronize users and groups from Microsoft O365, Import Avatars (user profile pictures), define user attributes for mapping (like first name, email, etc.,) and configure SSO. In this lab, we will explore SSO configuration only.</p> <ol> <li> <p>Continuing on Workstation 3 and go to the browser tab where you had the Webex Control hub open.</p> </li> <li> <p>On the Webex Control Hub page go MANAGEMENT &gt; Organization Settings and scroll down to the section Microsoft Entra ID Wizard App and click Set up.</p> <p></p> </li> <li> <p>It will take you to the Microsoft authentication page. Log in with the Microsoft credentials cholland@cbXXX.dc-YY.com &amp; dCloud123! Click Login.</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located on your *workstation 1 and copy the domain.***</p> <p></p> </li> <li> <p>On the following page, Microsoft login page will show you the permissions required. Review the permissions. Check mark option for Consent on behalf of your organization. Click Accept.</p> <p></p> </li> <li> <p>On the following it will prompt you for admin credenatils. Choose cholland@cbXXX.dc-YY.com from available logins &amp; then it will show you all details about permissions that are required for SSO configuration. Click Accept.</p> <p></p> </li> <li> <p>You will be taken back to Webex Control Hub and a pop-up window will be displayed. You might be asked if you want to create a new app ir migrate an existing one. If that's the case, select \"Create new app\". If not, go to the next step.</p> <p></p> </li> <li> <p>Then, you will be prompted with another pop-up window. Keep the radio button selected for Sync defaults and click Proceed.</p> <p>NOTE: If Sync defaults is not prompted, scroll down to Entra ID App section on Organizations settings page.</p> <p></p> </li> <li> <p>It will create the instance/integration with Microsoft tenant. It will take around 2 to 3 minutes for the process to complete.</p> </li> <li> <p>Once the integration process is completed, Job status will be displayed NotRun.</p> <p></p> </li> <li> <p>Within few min the Job status would change to Active. Wait until the job status is changed to Active. You need to refresh the page to see the updated status. At this point all users from your Microsoft tenant should be imported to Webex under MANAGEMENT &gt; Users. Notice few users with status Verified indicating they are imported from a trusted source (in this case the Microsoft tenant that we are integrating with).</p> </li> <li> <p>Now go back to MANAGEMENT &gt; Organization Settings and scroll down to the Microsoft Azure Active Directory Wizard App section. Click the three dots on the right side and select Edit Configuration.</p> <p></p> </li> <li> <p>It will bring up the Microsoft Azure AD integration page, under Attributes tab drop down the field phoneNumbers[type eq \"work\"].value &amp; choose telephoneNumber from the drop down list.</p> <p></p> </li> <li> <p>Now, go to More tab and select the checkbox option for Activate single sign-on and click Save.</p> <p></p> </li> <li> <p>You have now successfully enabled single sign-on for your Webex tenant. From now on, all logins to this Webex tenant will be redirected to Microsoft for authentication &amp; you will use cholland@cbXXX.dc-YY.com &amp; dCloud123! for logging into Webex Control Hub.</p> </li> <li> <p>This completes the SSO configuration and verification.</p> </li> </ol>"},{"location":"module_3/module_3/#module-3e-assign-licenses-configure-users-for-microsoft-presence-sync-approx-5-min","title":"Module 3e: Assign Licenses &amp; Configure Users for Microsoft Presence Sync [Approx 5 min]","text":"<p>In this section of the lab, we will use Adam McKenzie and Monica Cheng users. Let\u2019s configure Microsoft &amp; Webex integration parameters for presence and assign Calling Licenses to both these users.</p> <ol> <li> <p>Continuing on Workstation 3, go to the browser tab where you had the Webex Control Hub open. If you need to log in to Webex Control Hub, use the credentials <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!.</p> </li> <li> <p>On the Control Hub, go to SERVICES &gt; Calling. On the Calling page, go to Settings. Click on the tab Webex App</p> </li> <li> <p>On the  Webex App tab, scroll down to the Microsoft Teams Integration section and toggle the radio button Presence Sync &amp; Hide Webex windows. If the option Set Microsoft Teams as the default app for calling dock is toggled ON, untoggle it for now. We will explore this option later.</p> <p>NOTE: If you have completed Module 2, you may have already toggled on the Presence Sync and Hide Webex Windows options.</p> <p></p> </li> <li> <p>Now, let's assign UCM licenses for users. Go to MANAGEMENT &gt; Users and choose Adam McKenzie (<code>amckenzie@cbXXX.dc-YY.com</code>).</p> </li> <li> <p>Scroll down on the summary page, and click Edit Licenses.</p> </li> <li> <p>On the Edit services for amckenzie@cbXXX.dc-YY.com page, click Edit Licenses again.</p> </li> <li> <p>On the next page, go to the Calling tab. Checkmark Register to Unified Communication Manager (UCM). Also, uncheck options for Messaging and Meeting to deploy phone-only services for this user. Click Save. Click Close for edit services for amckenzie@cbXXX.dc-YY.com.</p> <p></p> </li> <li> <p>Go back to MANAGEMENT &gt; Users again, and on the users' page, choose Monica Cheng (<code>mcheng@cbXXX.dc-YY.com</code>) and repeat steps 4 through 7 to assign the Register to Unified Communications Manager (UCM) License for calling.</p> </li> </ol>"},{"location":"module_3/module_3/#module-3f-update-user-contacts-publish-cisco-call-app-and-disable-microsoft-native-calling-approx-5-min","title":"Module 3f: Update User Contacts, publish Cisco Call app and disable Microsoft Native Calling [Approx 5 min]","text":"<p>Now let's update contact phone numbers for users Adam McKenzie and Monica Cheng on the Microsoft trial tenant so users will be able to call with the click-to-call feature from Teams. Also, as we are using Webex Calling (UCM Calling) for calling services, let\u2019s disable the native Microsoft calling option so users are not confused between both calling options.</p> <ol> <li> <p>Continuing on Workstation 3, open a new browser tab and from the home page, go to Collab Admin Links &gt; Microsoft Admin Center or directly go to https://admin.microsoft.com. Log in with the credentials <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123! if prompted.</p> </li> <li> <p>Once logged in, go to Users &gt; Active Users on the left-side pane.</p> </li> <li> <p>On the Active Users page, select Adam McKenzie. This will bring up a fly-out window for the user configuration. Scroll down a little and click Manage contact information.</p> <p></p> </li> <li> <p>On the Manage contact information page, scroll down and find Office phone. Enter 6016. Click Save changes. Click Close to close the fly-out window.</p> <p></p> </li> <li> <p>Similarly, repeat steps 3 and 4 for Monica Cheng and update the office phone number with extension 6020.</p> <p>NOTE: Sometimes Microsoft takes a long time to update contact information, and it may not immediately reflect on Microsoft Teams. This is not a limitation of the lab or Webex, but rather Microsoft Cloud taking longer to update contact information.</p> </li> </ol> <pre><code>Now let\u2019s publish and authorize the **Cisco Calling app** for the entire Microsoft Organization so that each user is not prompted for authorization. Additionally, we will disable the native Microsoft calling option so users are not confused between Microsoft Native Calling and Cisco Call.\n</code></pre> <ol> <li> <p>First, we are going to hide the Teams-to-Teams Calling button. Go back to where you have logged into Microsoft Admin Center. On the left-side page, click Show all to see all admin centers. Under Admin Centers, select Teams.</p> <p></p> </li> <li> <p>It will open the Microsoft Teams Admin Center in a new tab. Once the Teams Admin Center is opened, go to Voice &gt; Calling policies. On the Calling Policies page, select the radio button for Disallow Calling and click on Manage Users/Assign users.</p> <p></p> </li> <li> <p>It will bring up fly-window to assign users. Search and add the users Adam McKenzie and Monica Cheng, and click on Apply. Click Confirm in the pop-up window.</p> <p></p> <p></p> <p>NOTE: If you have completed Module 2, you may have already published the Cisco Call app. If so, you can skip the remaining steps (4 through 9) and proceed to Module 3g.</p> </li> <li> <p>Now, let\u2019s publish the Cisco Call app for the organization so that each user does not need to request admin authorization. Continuing in the Teams Admin Center, on the left-side page, go to Teams apps &gt; Manage apps.</p> </li> <li> <p>On the Manage Apps page, search for Cisco Call on the right. Select the Cisco Call app that is listed.</p> <p></p> </li> <li> <p>On the Cisco Call app page, go to the Permissions tab. Under the Permissions tab, click Grant admin consent. It will bring up a pop-up window to authorize as admin. Log in as <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!. It will prompt you to accept some permissions. Click Accept.</p> <p></p> <p></p> <p>NOTE: Some permissions are considered delegated level, and others are application level. Below is a description of the permissions used by Cisco Call for Microsoft Teams, and what changes are coming in June 2025.</p> <p></p> <p></p> </li> <li> <p>Now any user in the organization can go to Apps in Microsoft Teams and add the Cisco Call app from the store.</p> <p>NOTE: As an Organization Admin, you can also install/publish this app for all users. To publish the app for all users, go to Teams apps &gt; Setup policies and update Global (Org-wide default) to include the Cisco Call app.</p> <p></p> </li> <li> <p>At this point, Microsoft and Webex tenants &amp; users are ready for use.</p> </li> </ol> <p>This completes Update User Contacts, publish Cisco Call app and disable Microsoft Native Calling.</p>"},{"location":"module_3/module_3/#module-3g-testing-the-calls-for-microsoft-integration-with-webex-ucm-calling-approx-60-min","title":"Module 3g: Testing the Calls for Microsoft Integration with Webex (UCM Calling) [Approx 60 min]","text":"<p>In this module, we will make some test calls to internal, PSTN &amp; also configure multiple features and Hunt groups. This module consists of a total of 10 testing scenarios that are described below.</p>"},{"location":"module_3/module_3/#logging-into-clients-approx-10-min","title":"Logging into Clients [Approx 10 min]","text":"<p>NOTE: You can continue using Teams Classic or choose to update to the version being prompted. Pleas be aware we do not control Microsoft updates.</p> <ol> <li> <p>Continuing on Workstation 3, open Microsoft Teams and log in as <code>&lt;amckenzie@cbXXX.dc-YY.com&gt;</code> with password dCloud123!. Click OK. Click Done.</p> <p>NOTE: DO NOT click No, this app only.</p> <p></p> </li> <li> <p>Accept any information/warning messages while logging in. If you have added Cisco Call as an admin in Module 2c, jump to step 3. If not, once logged in, click the eclipse icon (three dots) on the left side pane. On the new fly-out window, search for Cisco Call. It will list the Cisco Call app. Click Add. It will add the Cisco Call app to Microsoft Teams and take you to the login screen.</p> <p></p> </li> <li> <p>Open the Cisco Call App and click Continue.</p> <p></p> </li> <li> <p>This will use the same email address used to log in to Microsoft Teams. As we have an active session, you will be signed into Cisco Call on Microsoft Teams.</p> </li> <li> <p>At this point, the Webex App will pop up for you to log in. Log in as <code>&lt;amckenzie@cbXXX.dc-YY.com&gt;</code> with password dCloud123! If you close the Webex login page, you can access it from the System Tray.</p> <p></p> </li> <li> <p>As we chose to hide the Webex windows, once the user logs in, the Webex App window will disappear. You will be prompted with a pop-up window to sign in to UCM services. Log in as amckenzie with dCloud123!.</p> <p></p> </li> <li> <p>You will be prompted with a notification about Emergency Calling. Click OK.</p> <p></p> </li> <li> <p>You might get a pop-up window guiding you through the new features of the Cisco Call app. Click on Next. Then, click on Later when it asks you to use the Calling Dock, as we will explore this feature later.</p> <p></p> </li> <li> <p>Finally, right-click on the Cisco Call app on the left-side pane and click Pin. This ensures it is always visible for easier access. If you have published the Cisco Call app for the entire organization under setup policies on the Microsoft Teams Admin Center, you will see the Cisco Call app pinned already.</p> <p></p> <p>NOTE: If you do not see the Cisco Call app on the left side, click on the three dots on the left-side pane again, right-click on the Cisco Call app, and select Pin so the application always displays on the left-side pane for easier access.</p> </li> <li> <p>Now both of your clients on Workstation 3 are ready for use.</p> </li> <li> <p>Open an RDP connection to Workstation 4 using one of the methods described in the Accessing Your Lab module above. Repeat the steps above (1 through 9) on Workstation 4 using the credentials <code>&lt;mcheng@cbXXX.dc-YY.com&gt;</code> with password dCloud123!.</p> </li> </ol> <p>NOTE: Make sure you are logged in to both clients on both workstations 3 and 4 before continuing.</p>"},{"location":"module_3/module_3/#module-3g1-calling-scenarios-1-of-10-making-calls-approx-5-min","title":"Module 3g.1: Calling Scenarios 1 of 10 -- Making calls [Approx 5 min]","text":"<p>After configuring Cloud Connected UC, we should have Presence sync, Call History and Voicemail populated on our landing page. However, please notice these settings take up to 8 hours to apply, so you might not see this working.</p> <p>Optional reading: reason why this process takes 8 hours explained in the following diagram:</p> <p></p> <ol> <li> <p>Make sure you are logged in to both clients on both workstations 3 and 4 before continuing. From workstation 3 as Adam McKenzie, go to Cisco Call app on Microsoft Teams (On left side pane) &amp; Search for Monica Cheng (right above dial pad). OR you can dial extension number 6020.</p> </li> <li> <p>It will search the directory for Monica Cheng and display options to call, click on either Audio or Video. It will display all available contact methods for Monica, like Phone number Email etc., Click on any of the options to place the call.</p> <p></p> </li> <li> <p>Answer the call on workstation 4. Verify that call gets connected. Wait for few seconds and hang up the call.</p> <p>Once the 8 hour has been passed after onboarding UCM cluster:</p> </li> <li> <p>Once the 8 hours has been passed after onboarding UCM Cluster, you will see the call presence status on Microsoft Teams as In a call, as shown below.</p> <p>NOTE: If you do not see the correct status, try to bring the Microsoft Teams into foreground or initiate a chat conversation between Adam and Monica.</p> <p></p> </li> <li> <p>As soon as the call is hung up, you will see that Adam's status changes to Available.</p> <p></p> </li> <li> <p>Similarly you can dial any PSTN number in E.164 format (+1AAABBBCCCC). Or you can dial the Cisco support number +18005532447. You can also make inbound calls to Adam McKenzie DID number (you can find it in session details or in the file lab_info.txt) from your mobile. If you cannot dial US phone numbers from your mobile, reach out to one of your proctors.</p> </li> <li> <p>Also, Once the 8 hours has been passed after onboarding UCM Cluster, you will be able to observe that up to date call history is synchronized/reflected to Cisco Call app on Microsoft Teams. To verify the call history go to Cisco Call app &gt; Recent Calls as shown below.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g2-calling-scenarios-2-of-10-making-calls-from-microsoft-teams-chat-window-approx-5-min","title":"Module 3g.2: Calling Scenarios 2 of 10 - Making calls from Microsoft Teams chat Window [Approx 5 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go to Microsoft Teams app and go to Chat on left side pane. On the top search window search for Monica Cheng.</p> <p></p> </li> <li> <p>Initiate a chat conversation with Monica and send few messages back and forth.</p> </li> <li> <p>Click on the + sign towards right side of typing window for chat and select Cisco Call from available options.</p> <p></p> </li> <li> <p>It will bring up available calling options for Monica Cheng. Choose either Phone number or Email Id from the drop down option. Then choose either Audio or Video option to make the call.</p> <p></p> </li> <li> <p>Answer the call on Workstation 4 and verify that call is connected. Hang up the call after few seconds.</p> <p>NOTE: As explained before once the 8 hours for the initial sync has passed, you will see the presence status updated to show that Adam (and Monica) In a call.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g3-calling-scenarios-3-of-10-optimize-webex-app-for-microsoft-teams-experience-approx-3-min","title":"Module 3g.3: Calling Scenarios 3 of 10 - Optimize Webex App for Microsoft Teams Experience [Approx 3 min]","text":"<p>We are going to enable a feature on Control Hub that makes the Webex App optimized for being used with Microsoft Teams. This option enables:</p> <ul> <li>Webex branding removal</li> <li>Linking Calling Dock to MS Teams (shortcut to Call History, Voicemail, and Simplified Call Settings)</li> <li>Ability to mute Webex calls when on Teams meetings</li> </ul> <ol> <li> <p>Continuing on Workstation 3, go back to the browser tab where you logged into Webex Control Hub. On Control Hub, go to MANAGEMENT &gt; Users, choose user Adam McKenzie. On the user page, go to the Calling tab. On the calling tab, scroll down to Call Settings &gt; Microsoft Teams Integration. On the Microsoft Teams integration page, toggle on for option Optimize Webex App for Microsoft Teams Experience. Click on Save.</p> <p></p> </li> <li> <p>Restart the Webex App to apply the changes by clicking on Exit from the System tray (right-click + Exit).</p> <p></p> </li> <li> <p>Then, click on Sign in on the banner that shows the Cisco Call tab to re-open the Webex App.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g4-new-calling-scenarios-4-of-10-making-a-call-with-the-optimized-experience","title":"Module 3g.4 (NEW): Calling Scenarios 4 of 10 - Making a Call with the Optimized Experience","text":"<p>NOTE: Make sure you are logged in to both clients on both Workstations 3 and 4 before continuing.</p> <ol> <li> <p>Continuing on Workstation 3 as Adam McKenzie, go to the Cisco Call app on Microsoft Teams and make another call to Monica Cheng.</p> </li> <li> <p>Notice the Webex logo is not shown within the in-call window anymore, as the option Optimize Webex App for Microsoft Teams Experience is enabled for this user.</p> <p></p> </li> <li> <p>Hang up the call.</p> </li> </ol>"},{"location":"module_3/module_3/#module-3g5-new-calling-scenarios-5-of-10-presence-sync-mute-webex-app-calls-when-on-teams-meetings-approx-10-min","title":"Module 3g.5 (NEW): Calling Scenarios 5 of 10 - Presence Sync: Mute Webex App Calls When on Teams Meetings [Approx 10 min]","text":"<p>NOTE: This scenario will only work after 8 hours from configuring CCUC have passed.</p> <p>Presence sync is supported between Microsoft Teams and Webex for the following statuses:</p> <p></p> <p>When on a Microsoft Teams meeting or call, users might want to decide if they want to receive or decline calls. The status when on a Teams Meeting or a call will show as \"In a call\" in Microsoft Teams, and as \"On a call\" in the Webex App.</p> <p>However, this presence status itself doesn't mean incoming calls will be muted, but two settings are required for this to happen:</p> <ul> <li>Organizational setting: Optimize Webex App for Microsoft Teams Experience must be enabled for the user, group, or organization.</li> <li> <p>User setting: Under Call Settings, Call Notifications can be set to Always mute or to Only mute notifications when I'm in a meeting or on a call. These settings apply to either Webex calls or meetings, and also to Microsoft Calls and Meetings if the option \"Optimize Webex App for Microsoft Teams Experience\" is enabled for that user.</p> <p></p> </li> </ul>"},{"location":"module_3/module_3/#lets-explore-the-option-only-mute-notifications-when-im-in-a-meeting-or-on-a-call","title":"Let's explore the option Only mute notifications when I'm in a meeting or on a call.","text":"<ol> <li> <p>Continuing on Workstation 3, go to Microsoft Teams. Go to the Meet tab and click on Meet now. Then click on Start a meeting to start a Microsoft Teams meeting. </p> <p></p> </li> <li> <p>Select any audio option and click on Join now. Click close for option Invite people to join you pop-up window</p> <p></p> </li> <li> <p>Leave the meeting open and go back to the Cisco Call tab within Microsoft Teams. Notice Adam's status has changed to \"In a call.\"</p> <p></p> </li> <li> <p>Open Call Settings within the Cisco Call tab. It will bring up settings for the Webex App. Notice that Call Settings are now simplified in comparison to the default Call Settings from the Webex App (Simplified Call Settings).</p> <p></p> </li> <li> <p>On the settings, go to Notifications. Under Notifications, click on Calls. Ensure the option Don't mute is selected. Click Save.</p> <p></p> </li> <li> <p>Now, navigate to Workstation 4 and open Microsoft Teams (as Monica Cheng). From the Cisco Call tab, make a call to Adam McKenzie's work number.</p> <p></p> </li> <li> <p>On Workstation 3, notice Adam McKenzie gets the call notification toast. Decline the call on Workstation 3 and/or hang up the call on Workstation 4.</p> <p></p> </li> <li> <p>Now, on Workstation 3, open Call Settings within the Cisco Call tab and go to Notifications. Under Notifications, click on Calls. Select the option Only mute notifications when I'm in a meeting or on a call. Click on Save.</p> <p></p> </li> <li> <p>Repeat the call from Monica Cheng to Adam McKenzie: Navigate to Workstation 4 and open Microsoft Teams (as Monica Cheng). From the Cisco Call tab, make a call to Adam's work number.</p> <p></p> </li> <li> <p>Notice Monica Cheng can make the call, but Adam McKenzie doesn't receive any notification toast while the call is happening. Hang up the call from Workstation 4, as Monica Cheng.</p> <p></p> </li> <li> <p>Adam will get a missed call.</p> </li> <li> <p>Still on Workstation 3, open the Microsoft meeting window and finish the Microsoft Teams meeting.</p> <p></p> </li> <li> <p>Open again Call Settings from the Cisco Call tab within Microsoft Teams and change the Call Notifications settings back to Don't Mute. Click on Save.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g6-calling-scenarios-6-of-10-calling-dock-approx-5-min","title":"Module 3g.6: Calling Scenarios 6 of 10 - Calling Dock [Approx 5 min]","text":"<p>The Webex Calling Dock (formerly multi-call window) is a user-enabled setting to maximize calls for multiple lines and manage calls effectively. It can act as a companion app for Microsoft Teams. It also helps to hide the Webex app during calls.</p> <p></p> <ol> <li> <p>Continuing on Workstation 3, on Microsoft Teams go to the Cisco Call app on the left-side pane. Click on the ellipsis menu on the right-hand side (next to Call Settings) and toggle on the Calling Dock to enable it.</p> <p></p> </li> <li> <p>Notice that Webex will bring a small call window (called as Calling Dock) as shown above. You can use this Calling Dock for any calling functions, like making calls, answering calls, recent calls, using the dial pad, and accessing voicemail.</p> </li> <li> <p>Drag and drop the Calling Dock to the right side of the screen to notice it minimizes itself (docking feature).</p> <p></p> </li> <li> <p>Hover your mouse over the new dock icon on the right to see the Calling Dock without keeping it open. Click on the dock to maximize the Calling Dock again.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g7-calling-scenarios-7-of-10-multi-line-approx-10-min","title":"Module 3g.7: Calling Scenarios 7 of 10 - Multi-Line [Approx 10 min]","text":"<p>You can set up a profile with multiple lines with different phone numbers for calling. You can switch lines if you need to make outgoing calls from different lines, such as a front desk line, support team line, or an individual line with a different caller ID.</p> <p>Let's add a multi-line (secondary line) to Adam McKenzie.</p> <ol> <li> <p>Continuing on Workstation 3, open a new browser tab &amp; from the home page go to Collaboration Admin Links &gt; Cisco Unified Communications Manager. Log in as administrator/dCloud123!.</p> </li> <li> <p>Once logged in, go to Device &gt; Phone. On the Find and List Phones page, drop down the option for Find Phone where to Description, contains, and in the search field type mckenzie (Adam's last name) and click Find.</p> <p></p> </li> <li> <p>From the search results, choose/click the device CSFAMCKENZIE.</p> </li> <li> <p>On the phone page, click on Line [2] -- add a new DN (towards the top-left corner).</p> <p></p> </li> <li> <p>It will take you to the new Directory Number Configuration page. On the page populate the following details and click Save.</p> Parameter Name Value Directory Number 7016 Route Partition Base_PT Voice Mail Profile Default Calling Search Space Call_Everyone Display (Caller ID) Adam McKenzie - x7016 ASCII Display (Caller ID) Adam McKenzie - x7016 Line Text Label Adam McKenzie - x7016 Options Caller Name &amp; Dialed Number <p></p> <p></p> </li> <li> <p>Once saved, scroll down all the way to the bottom of the directory number page. You will see the option called Users Associated with Line. Click on Associate End Users. It will bring up the Find and List Users page. In the search field, enter Adam and click Find. It will list the user ID amckenzie. Checkmark the user and click Add Selected.</p> <p></p> </li> <li> <p>It will associate the user and take you back to the Directory Number Configuration page. Click Save. Click Apply Config. Click OK on the pop-up window.</p> </li> <li> <p>Now go to the Calling Dock, and you will have two lines configured. If you do not see the second line yet, just quit (from the system tray, right-click on the Webex icon and Exit Webex) &amp; Connect Phone services on the Cisco Call app within Microsoft Teams.</p> </li> <li> <p>Observe on the Calling Dock you now have two lines configured.</p> <p></p> </li> <li> <p>Go to Microsoft teams &amp; Cisco Call app.  Click on Call Settings.  It will bring up Settings pop-up window for Webex. Uncheck the option for Answer calls with my video on under Calling tab.  Click Save.</p> <p></p> </li> <li> <p>Go to Workstation 4 (as Monica Cheng). On Microsoft Teams, go to the Cisco Call app and dial 7016 (the secondary line that we configured). Answer the call on Workstation 3. Verify that the call is connected, wait for a few seconds, and hang up the call.</p> </li> <li> <p>As explained before, once the 8 hours for the initial sync has passed, you will see the presence status updated to show that Adam is \"In a call\" when the second line is in use, just like the primary line.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g8-calling-scenarios-8-of-10-voicemail-approx-5-min","title":"Module 3g.8: Calling Scenarios 8 of 10 - Voicemail [Approx 5 min]","text":"<ol> <li> <p>If you can dial US numbers from your mobile phone, dial the DID number you noted for Adam McKenzie (from Session Details) in the Accessing the Lab module. If you cannot dial US numbers, you can contact one of your proctors to make the call for you.</p> <p>NOTE: If you have not noted the DID number at the beginning of the lab, you can find the DID number by going to your dCloud Lab &gt; Session Details and noting the DID number associated with extension number 6016 (it will be labeled as Adam McKenzie).</p> </li> <li> <p>Do not answer the call on Workstation 3 &amp; let it go to voicemail (or decline the call). Leave a voice message for a few seconds and hang up the call.</p> </li> <li> <p>As explained before, once 8 hours have passed since the CCUC is onboarded, you can go to Microsoft Teams &gt; Cisco Call app and go to the Voicemail tab. Observe that you have a new voicemail. Click Play to listen to the voicemail. Make sure you can listen to the voicemail.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g9-new-calling-scenarios-9-of-10-phone-disconnection-banner-approx-3-min","title":"Module 3g.9 (NEW): Calling Scenarios 9 of 10 - Phone Disconnection Banner [Approx 3 min]","text":"<p>NOTE: If you have completed Module 2, skip to the next Calling scenario.</p> <p>When phone services are disconnected (for example, when the Webex App is logged out), there will be a banner showing that in the Cisco Call App. It also appears when it detects the Webex App is not running (when you exit from it), as we have seen before. Let's test the experience when signing out from the Webex App.</p> <ol> <li> <p>Continuing on Workstation 3 as Adam McKenzie, go to the taskbar to find the Webex App. Click on the icon to open it.</p> <p></p> </li> <li> <p>Click on Adam\u2019s avatar and on Sign Out.</p> <p></p> </li> <li> <p>A new banner will appear on the Cisco Call App advising you about your phone services being disconnected.</p> <p></p> </li> <li> <p>Click on Sign in to connect them again. If this banner is there because you are logged out from the Webex App, it will ask you to log in to the Webex App by bringing in the Webex App sign-in page.</p> </li> <li> <p>Notice the status of the banner is now \"Connecting.\" Sign in as Adam McKenzie to the Webex App and the UCM services.</p> <p></p> <p></p> </li> <li> <p>Once you log in, the banner will show that services are reconnected.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3/#module-3g10-optional-calling-scenarios-10-of-10-create-a-hunt-group-and-assign-users-to-it-approx-10-min","title":"Module 3g.10 (OPTIONAL): Calling Scenarios 10 of 10 - Create a Hunt Group and Assign Users to It [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go back to the browser page where you are signed into Cisco Unified Communications Manager. Log back in as administrator/dCloud123! if the previous login has timed out.</p> </li> <li> <p>Once logged in, go to Call Routing &gt; Route/Hunt &gt; Line Group. Click on Add new.</p> <p></p> </li> <li> <p>Name the Line Group as dCloud Line Group. Select extension 6016/Base_PT (Adam McKenzie) and click Add to Line Group. Similarly, select extension 6020/Base_PT (Monica Cheng) and click Add to Line Group. Click Save.</p> <p></p> </li> <li> <p>Now, let's add this Line Group to a Hunt List. Go to Call Routing &gt; Route/Hunt &gt; Hunt List. Click on Add new.</p> <p></p> </li> <li> <p>Assign the name dCloud Hunt List. Select dCloud_CMGroup under Cisco Unified Communications Manager Group. Checkmark Enable this Hunt List. Click Save.</p> <p></p> </li> <li> <p>Once the page reloads, click on Add Line Group on the newly created Hunt List page. Drop down the option Line Group and select the Line Group you just created (dCloud Line Group). Click on Save. Click OK on the prompt message that will appear.</p> <p></p> </li> <li> <p>Once the Line Group is added, click Save on the Hunt List Configuration. Click OK.</p> </li> <li> <p>Now we are going to create the Hunt Pilot. Go to Call Routing &gt; Route/Hunt &gt; Hunt Pilot. Click on Add new.</p> <p></p> </li> <li> <p>Enter the directory number 7800 for the Hunt Pilot. Select the Route Partition as Base_PT. Drop down the option for Hunt List and choose the Hunt List we just created: dCloud Hunt List. Leave the rest of the fields as defaults. Click Save.</p> <p></p> </li> <li> <p>Now go to the Webex Calling Dock and notice that the Hunt Group is enabled. You can click on it, and it will be disabled (Off). Click OK on the pop-up window. Click on the icon again to log in (On) to the Hunt Group.</p> <p></p> </li> <li> <p>Go to your dCloud Session Info &gt; Phone Numbers. Drop down the phone numbers and find the DID number associated with the extension 7800 (the one we assigned to the Hunt Group). This number will be different for each lab.</p> <p></p> </li> <li> <p>Dial the DID number from your personal phone or ask one of the proctors to make the call for you. Notice the incoming call for Adam McKenzie (Workstation 3). Do not answer the call on Workstation 3.</p> <p></p> </li> <li> <p>Wait a few tones and notice the call moving to Monica Cheng (Workstation 4). Hang up the call from your phone or the proctor's phone.</p> <p></p> </li> </ol> <p>This completes the entire Module 3: Cisco Call (UCM Calling) Integration with Microsoft Teams.</p>"},{"location":"module_3/module_3g3-8_media/media/module_3/","title":"Module 2: Cisco Call for Microsoft Teams (UCM Calling) [Approx 1 hour 45 min]","text":""},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2-cisco-call-for-microsoft-teams-ucm-calling-approx-1-hour-45-min","title":"Module 2: Cisco Call for Microsoft Teams (UCM Calling) [Approx 1 hour 45 min]","text":"<p>With Cisco Call for Microsoft Teams for CUCM deployments, the Microsoft Teams users can access the enterprise-grade CUCM experience directly in the Microsoft Teams app. With a single click from the Microsoft Teams interface, you can access a complete suite of CUCM features. The features include directory search, PSTN dialing, speed dial, voicemail, call history, and artificial intelligence-powered background noise removal.</p> <p></p> <p>This integrated app works with the Cisco Unified Communications Manager (CUCM) call-control solution, Webex Calling for cloud deployment or the Dedicated Instance offering.</p> <p>This would be the call flow diagram when using CUCM as the call control:</p> <p></p> <p>Webex Cloud-Connected UC (CCUC) Overview [Approx 5 min Read]:</p> <p></p> <p>Webex Cloud-Connected UC (CCUC) is a suite of Webex cloud services with a single global view to manage on-premises UC and Unified CM cloud services. CCUC is an efficient, cloud-based managed services product for an on-premises Unified CM deployment. It provides a centralized cloud-based tool for analytics and troubleshooting. It allows customers to leverage the benefits of the Webex cloud while keeping critical calling workloads on premises.</p> <p>Customers can subscribe to the UC management services on Control Hub. Customers can access the Control Hub to get a single global view and host the entire on-premises Unified CM network from a single operation control panel that supports the Cisco cloud services. Cloud-Connected UC helps manage multiple clusters, for both Unified CM and Unified CM Cloud deployments. Cloud-Connected UC achieves this with plugins that are installed on individual Unified CM applications that send telemetry data to the Webex cloud. Plugins register with the Webex cloud during onboarding and are authenticated to the cloud using the Webex Common Identity framework. Subsequent updates to these plugins are automatically managed through the cloud.</p> <p>CCUC can also help to perform automated device firmware migration from Enterprise Firmware to MPP Firmware. The MPP firmware can run on certain models of the Cisco IP Phone 6800, 7800, and 8800 series. However, only the Cisco IP Phone 7800 and 8800 series can run either MPP firmware or Enterprise firmware. When an appropriate license is applied to the IP Phone, you can migrate between MPP and Enterprise firmware on the Cisco IP 7800 and 8800 series phones.</p>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2a-get-webex-org-id-from-control-hub-approx-5-min","title":"Module 2a: Get Webex Org ID from Control Hub [Approx 5 min]","text":"<ol> <li> <p>Open RDP connection to Workstation 3 at 198.18.1.39, using one of the options mentioned in Accessing your Lab module. Use the credentials dcloud\\amckenzie and dCloud123!</p> </li> <li> <p>Open Chrome Browser from the taskbar or Desktop</p> </li> <li> <p>From Home Page, select Cisco Webex Links &gt; Cisco Webex Control Hub. Log in with cholland@cbXXX.dc-YY.com and dCloudAAAA!</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located in your workstation 1 and copy the domain.</p> <p></p> <p>NOTE: If you have completed module 1 you may have already configured SSO with Microsoft, in that case the password for cholland@cbXXX.dc-YY.com would be dCloud123!**</p> </li> <li> <p>For security reasons, Webex Control Hub signs out every 20 minutes (Idle timeout) by default. For this lab, let's make the idle time out longer so the Control Hub does not sign you out often during this lab. Go to MANAGEMENT &gt; Organization Settings &gt; Control Hub's idle timeout. Drop down the option for Control Hub idle timeout and select 12 hours or no timeout. Click Save.</p> <p>NOTE: If you have completed module 1 you may have already set the idle time out as part of that module. If so, you can skip step 5.</p> <p></p> </li> <li> <p>Now, go to MANAGEMENT &gt; Account and copy the Organization ID to a notepad on the Workstation 3 Desktop.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2b-onboard-a-uc-nodes-ucm-cuc-using-the-administrator-cli-approx-10-min-review-only","title":"Module 2b: Onboard a UC Nodes (UCM &amp; CUC) using the Administrator CLI [Approx 10 min -- Review Only]","text":"<p>IMPORTANT NOTE: When you onboard an on-prem Unified Communications device (like Cisco UCM or Cisco Unity Connection) with Webex Cloud, it takes around 30 to 45 min for the cloud to see it. Instead of making attendees onboard and wait for 45 min to sync up during the lab, we have pre-onboarded Cisco UCM and Unity Connection for this Lab. Below steps are your reference purpose only, you DO NOT need to execute any steps. After reviewing below steps you can directly move to next Module 2c.</p> <ol> <li> <p>Continuing on Workstation 3, open the Putty application located on the Desktop.</p> </li> <li> <p>Open SSH connection to Cisco Unified Communications Manager at 198.18.133.33. Accept any security warnings, if prompted.</p> </li> <li> <p>Log in as administrator and dCloud123! when prompted and accept any security warnings.</p> </li> <li> <p>Once logged in, at the admin prompt, execute the below command, to start onboarding Cisco UCM with Webex.</p> <pre><code>utils ucmgmt organization **organization_id**\n</code></pre> <p>NOTE: Replace organization_id with the Organization ID you copied in above module Step 4.</p> </li> <li> <p>Now run the following command to enable the CCUC agent.</p> <pre><code>utils ucmgmt agent enable\n</code></pre> <p></p> </li> <li> <p>Run the following command to verify that the CCUC agent is running. The Agent process should show the status to be running.</p> <pre><code>utils ucmgmt agent status\n</code></pre> <p></p> </li> <li> <p>If the agent process is not running, run the following command to kick-start or restart the agent process.</p> <pre><code>utils ucmgmt agent restart\n</code></pre> <p></p> <p></p> </li> <li> <p>Check the agent status again with the command, to make sure the agent process status is running</p> <pre><code>utils ucmgmt agent status\n</code></pre> </li> <li> <p>When you see agent process status is running, you have initiated the onboarding process successfully. Make a note of the time that the process moved to the running state, you may need to reference it later.</p> </li> <li> <p>Now, let's onboard Cisco Unity Connection (CUC) node. Open new Putty session/window and open SSH connection to 198.18.133.5, accept any security warnings.</p> </li> <li> <p>Login as administrator and dCloud123!</p> </li> <li> <p>Repeat steps 4 through 9 for Cisco Unity Connection node.</p> <p></p> </li> <li> <p>Go back to browser tab where you had Webex Control Hub opened. Go to SERVICES &gt; Connected UC and click Enable Connected UC</p> <p></p> </li> <li> <p>Once Enabled, click Get Started on the UC Management tab</p> <p></p> </li> <li> <p>It will pop-up the Getting Started window, which will walk you through creating an agent file for Cisco On-Premises devices.</p> </li> <li> <p>Click Next on the Getting Started Page.</p> </li> <li> <p>Give the \"CCUC-Agent\" name in File Name. You can see in this page that if in your real live scenario you have a proxy you can define here the information of that proxy.</p> </li> <li> <p>Click Save. You have to wait a couple of minutes while the file agent is created.</p> <p>NOTE: This Agent file does not need to be downloaded in this lab as it\\'s already bundled with this version of Cisco UCM (14.0 SU3) but we will create it to get familiar with the process.</p> </li> <li> <p>Click Next.</p> </li> <li> <p>We need to create a new cluster group for Cisco UCM.</p> </li> <li> <p>Give the Cluster Group a Name and a Group Description of your choice. Example: dCloud-UCM and UCM Group.</p> <p></p> </li> <li> <p>Click Next and then click Finish.</p> </li> <li> <p>Go to Inventory under UC Management &amp; Click Add Cluster Group again and give Cluster Group Name &amp; Group Description for CUC. Example: dCloud-CUC &amp; CUC Group. Click Save.</p> <p></p> </li> <li> <p>This completes onboarding of On-Prem Cisco UC applications.</p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2c-verify-the-onboarded-ucm-cuc-nodes-on-webex-control-hub-approx-10-min","title":"Module 2c: Verify the onboarded UCM &amp; CUC nodes on Webex Control Hub [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go back to the browser tab where Webex Control Hub was opened. Or if you have not yet logged in, go to https://admin.webex.com &amp; log in with cholland@cbXXX.dc-YY.com and dCloudAAAA! Or dCloud123! (if you have configured SSO as part of module 1)</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located your workstation 1 and copy the domain. AAAA is the last 4 digits of your session ID on dCloud</p> <p></p> </li> <li> <p>Once logged in, go to SERVICES &gt; Connected UC.</p> </li> <li> <p>On the Connected UC page click Inventory under UC Management. If you do not see inventory option, refresh the page.</p> </li> <li> <p>You will see there are two Unassigned nodes/clusters that needs assignment to a cluster group.</p> </li> <li> <p>Click Resolve.</p> <p></p> </li> <li> <p>On the next page, click Verify for cucm1.dcloud.cisco.com</p> <p></p> </li> <li> <p>It will bring up a new pop-up window for the node. Drop down the option for Change Cluster Group and choose dCloud-CUCM. Now check mark (towards right side of the node list) option for the product CUCM to confirm Verification and Click Save and Click Save.</p> <p></p> </li> <li> <p>You will be taken back to Unverified Cluster Group. Now, click Verify for cuc1.dcloud.cisco.com. Drop down the option for Change Cluster Group and choose dCloud-CUC. Now click the check mark for the product CUCM to confirm Verification and Click Save and Click Save.</p> <p></p> </li> <li> <p>Lastly, on the Control Hub, go to SERVICES &gt; Connected UC &gt; Inventory &amp; choose Details for dCloud-CUCM. Click Details (again). Click on the eclipse icon (three dots) in the top right corner and choose Service Management.</p> <p></p> </li> <li> <p>Toggle all the settings under Service Management and select the option for Yes, I agree and click Submit.</p> <p></p> </li> <li> <p>Repeat steps 9 &amp; 10 for dCloud-CUC cluster.</p> <p></p> </li> <li> <p>Now the Cisco UCM &amp; CUC servers are successfully onboarded with Cisco Webex Cloud. This completes the Onboard a UC Node using the Administrator CLI section.</p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2d-configure-single-sign-on-sso-for-control-hub-approx-15-min","title":"Module 2d: Configure Single Sign-On (SSO) for Control Hub [Approx 15 min]","text":"<p>NOTE: If you have completed module 1, you would have configured the SSO already as part of that module. So, you can skip this section and go to next section. If you have not run through module 1 yet, you can continue to configure SSO.</p> <p>If you have your own identity provider (IdP) in your organization, you can integrate it with Control Hub for single sign-on (SSO). SSO lets your users use a single, common set of credentials for Webex App applications and other applications in your organization.</p> <p>Cisco Webex supports a wide variety of IdPs for Single Sign-On configuration like Microsoft (both O365 and AD FS), Okta, PingFederate, Duo, etc.,</p> <p>In this lab, we will explore the SSO configuration with Microsoft O365.</p> <p>Integrating O365 with your Webex Control Hub you can also import/synchronize users and groups from Microsoft O365, Import Avatars (user profile pictures), define user attributes for mapping (like first name, email, etc.,) and configure SSO. In this lab, we will explore SSO configuration only.</p> <ol> <li> <p>Continuing on Workstation 3 and go to the browser tab where you had the Webex Control hub open.</p> </li> <li> <p>On the Webex Control Hub page go MANAGEMENT &gt; Organization Settings and scroll down to the section Microsoft Azure Active Directory Wizard App and click Set up.</p> <p></p> </li> <li> <p>It will take you to the Microsoft authentication page. Log in with the Microsoft credentials cholland@cbXXX.dc-YY.com &amp; dCloud123! Click Login.</p> <p>NOTE: You need to Replace XXX and YY with your session-specific details. If you haven\\'t already done as explained in Accessing your lab section, go to Lab_info.txt file located on your *workstation 1 and copy the domain.***</p> <p></p> </li> <li> <p>On the following page, Microsoft login page will show you the permissions required. Review the permissions. Check mark option for Consent on behalf of your organization. Click Accept.</p> <p></p> </li> <li> <p>On the following it will prompt you for admin credenatils. Choose cholland@cbXXX.dc-YY.com from available logins &amp; then it will show you all details about permissions that are required for SSO configuration. Click Accept.</p> <p></p> </li> <li> <p>You will be taken back to Webex Control Hub and a pop-up window will be displayed. Keep the radio button selected for Sync defaults and click Proceed.</p> <p>NOTE: If Sync defaults is not prompted, scroll down to Azure App section on Organizations settings page.</p> <p></p> </li> <li> <p>It will create the instance/integration with Microsoft tenant. It will take around 2 to 3 minutes for the process to complete.</p> </li> <li> <p>Once the integration process is completed, Job status will be displayed NotRun.</p> <p></p> </li> <li> <p>Within few min the Job status would change to Active. Wait until the job status is changed to Active. You need to refresh the page to see the updated status. At this point all users from your Microsoft tenant should be imported to Webex under MANAGEMENT &gt; Users. Notice few users with status Verified indicating they are imported from a trusted source (in this case the Microsoft tenant that we are integrating with).</p> </li> <li> <p>Now go back to MANAGEMENT &gt; Organization Settings and scroll down to the Microsoft Azure Active Directory Wizard App section. Click the three dots on the right side and select Edit Configuration.</p> <p></p> </li> <li> <p>It will bring up the Microsoft Azure AD integration page, under Attributes tab drop down the field phoneNumbers[type eq \"work\"].value &amp; choose telephoneNumber from the drop down list.</p> <p></p> </li> <li> <p>Now, go to More tab and select the checkbox option for Activate single sign-on and click Save.</p> <p></p> </li> <li> <p>You have now successfully enabled single sign-on for your Webex tenant. From now on, all logins to this Webex tenant will be redirected to Microsoft for authentication &amp; you will use cholland@cbXXX.dc-YY.com &amp; dCloud123! for logging into Webex Control Hub.</p> </li> <li> <p>This completes the SSO configuration and verification.</p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2e-assign-licenses-configure-users-for-microsoft-presence-sync-approx-5-min","title":"Module 2e: Assign Licenses &amp; Configure Users for Microsoft Presence Sync [Approx 5 min]","text":"<p>In this section of the lab, we will use Adam McKenzie and Monica Cheng users. Let\u2019s configure Microsoft &amp; Webex integration parameters for presence and assign Calling Licenses to both these users.</p> <ol> <li> <p>Continuing on Workstation 3, go to the browser tab where you had the Webex Control Hub open. If you need to log in to Webex Control Hub, use the credentials <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!.</p> </li> <li> <p>On the Control Hub, go to SERVICES &gt; Calling. On the Calling page, go to Client Settings.</p> </li> <li> <p>On the Client Settings page, scroll down to the Microsoft Teams Integration section and toggle the radio button Presence Sync &amp; Hide Webex windows. If the option Set Microsoft Teams as the default app for calling dock is toggled ON, untoggle it for now. We will explore this option later.</p> <p>NOTE: If you have completed module 1, you may have already toggled on the Presence Sync and Hide Webex Windows options.</p> <p></p> </li> <li> <p>Now, let's assign UCM licenses for users. Go to MANAGEMENT &gt; Users and choose Adam McKenzie (<code>amckenzie@cbXXX.dc-YY.com</code>).</p> </li> <li> <p>Scroll down on the summary page, and click Edit Licenses.</p> </li> <li> <p>On the Edit services for amckenzie@cbXXX.dc-YY.com page, click Edit Licenses again.</p> </li> <li> <p>On the next page, go to the Calling tab. Checkmark Register to Unified Communication Manager (UCM). Also, uncheck options for Messaging and Meeting to deploy phone-only services for this user. Click Save. Click Close for edit services for amckenzie@cbXXX.dc-YY.com.</p> <p></p> </li> <li> <p>Go back to MANAGEMENT &gt; Users again, and on the users' page, choose Monica Cheng (<code>mcheng@cbXXX.dc-YY.com</code>) and repeat steps 4 through 7 to assign the Register to Unified Communications Manager (UCM) License for calling.</p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2f-update-user-contacts-publish-cisco-call-app-and-disable-microsoft-native-calling-approx-5-min","title":"Module 2f: Update User Contacts, publish Cisco Call app and disable Microsoft Native Calling [Approx 5 min]","text":"<p>Now let's update contact phone numbers for users Adam McKenzie and Monica Cheng on the Microsoft trial tenant so users will be able to call with the click-to-call feature from Teams. Also, as we are using Webex Calling (UCM Calling) for calling services, let\u2019s disable the native Microsoft calling option so users are not confused between both calling options.</p> <ol> <li> <p>Continuing on Workstation 3, open a new browser tab and from the home page, go to Collab Admin Links &gt; Microsoft Admin Center or directly go to https://admin.microsoft.com. Log in with the credentials <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123! if prompted.</p> </li> <li> <p>Once logged in, go to Users &gt; Active Users on the left-side pane.</p> </li> <li> <p>On the Active Users page, select Adam McKenzie. This will bring up a fly-out window for the user configuration. Scroll down a little and click Manage contact information.</p> <p></p> </li> <li> <p>On the Manage contact information page, scroll down and find Office phone. Enter 6016. Click Save changes. Click Close to close the fly-out window.</p> <p></p> </li> <li> <p>Similarly, repeat steps 3 and 4 for Monica Cheng and update the office phone number with extension 6020.</p> <p>NOTE: Sometimes Microsoft takes a long time to update contact information, and it may not immediately reflect on Microsoft Teams. This is not a limitation of the lab or Webex, but rather Microsoft Cloud taking longer to update contact information.</p> </li> </ol> <pre><code>Now let\u2019s publish and authorize the **Cisco Calling app** for the entire Microsoft Organization so that each user is not prompted for authorization. Additionally, we will disable the native Microsoft calling option so users are not confused between Microsoft Native Calling and Cisco Call.\n</code></pre> <ol> <li> <p>First, we are going to hide the Teams-to-Teams Calling button. Go back to where you have logged into Microsoft Admin Center. On the left-side page, click Show all to see all admin centers. Under Admin Centers, select Teams.</p> <p></p> </li> <li> <p>It will open the Microsoft Teams Admin Center in a new tab. Once the Teams Admin Center is opened, go to Voice &gt; Calling policies. On the Calling Policies page, select the radio button for Disallow Calling and click on Manage Users/Assign users.</p> <p></p> </li> <li> <p>It will bring up fly-window to assign users. Search and add the users Adam McKenzie and Monica Cheng, and click on Apply. Click Confirm in the pop-up window.</p> <p></p> <p></p> <p>NOTE: If you have completed module 1, you may have already published the Cisco Call app. If so, you can skip the remaining steps (4 through 9) and proceed to Module 2g.</p> </li> <li> <p>Now, let\u2019s publish the Cisco Call app for the organization so that each user does not need to request admin authorization. Continuing in the Teams Admin Center, on the left-side page, go to Teams apps &gt; Manage apps.</p> </li> <li> <p>On the Manage Apps page, search for Cisco Call on the right. Select the Cisco Call app that is listed.</p> <p></p> </li> <li> <p>On the Cisco Call app page, go to the Permissions tab. Under the Permissions tab, click Grant admin consent. It will bring up a pop-up window to authorize as admin. Log in as <code>&lt;cholland@cbXXX.dc-YY.com&gt;</code> and dCloud123!. It will prompt you to accept some permissions. Click Accept.</p> <p></p> <p></p> <p>NOTE: Some permissions are considered delegated level, and others are application level. Below is a description of the permissions used by Cisco Call for Microsoft Teams, and what changes are coming in June 2025.</p> <p></p> <p></p> </li> <li> <p>Now any user in the organization can go to Apps in Microsoft Teams and add the Cisco Call app from the store.</p> <p>NOTE: As an Organization Admin, you can also install/publish this app for all users. To publish the app for all users, go to Teams apps &gt; Setup policies and update Global (Org-wide default) to include the Cisco Call app.</p> <p></p> </li> <li> <p>At this point, Microsoft and Webex tenants &amp; users are ready for use.</p> </li> </ol> <p>This completes Update User Contacts, publish Cisco Call app and disable Microsoft Native Calling.</p>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g-testing-the-calls-for-microsoft-integration-with-webex-ucm-calling-approx-60-min","title":"Module 2g: Testing the Calls for Microsoft Integration with Webex (UCM Calling) [Approx 60 min]","text":"<p>In this module, we will make some test calls to internal, PSTN &amp; also configure multiple features and Hunt groups. This module consists of a total of 10 testing scenarios that are described below.</p>"},{"location":"module_3/module_3g3-8_media/media/module_3/#logging-into-clients-approx-10-min","title":"Logging into Clients [Approx 10 min]","text":"<p>NOTE: You can continue using Teams Classic or choose to update to the version being prompted. Pleas be aware we do not control Microsoft updates.</p> <ol> <li> <p>Continuing on Workstation 3, open Microsoft Teams and log in as <code>&lt;amckenzie@cbXXX.dc-YY.com&gt;</code> with password dCloud123!. Click OK. Click Done.</p> <p>NOTE: DO NOT click No, this app only.</p> <p></p> </li> <li> <p>Accept any information/warning messages while logging in. If you have added Cisco Call as an admin in module 1c, jump to step 3. If not, once logged in, click the eclipse icon (three dots) on the left side pane. On the new fly-out window, search for Cisco Call. It will list the Cisco Call app. Click Add. It will add the Cisco Call app to Microsoft Teams and take you to the login screen.</p> <p></p> </li> <li> <p>Open the Cisco Call App and click Continue.</p> <p></p> </li> <li> <p>This will use the same email address used to log in to Microsoft Teams. As we have an active session, you will be signed into Cisco Call on Microsoft Teams.</p> </li> <li> <p>At this point, the Webex App will pop up for you to log in. Log in as <code>&lt;amckenzie@cbXXX.dc-YY.com&gt;</code> with password dCloud123! If you close the Webex login page, you can access it from the System Tray.</p> <p></p> </li> <li> <p>As we chose to hide the Webex windows, once the user logs in, the Webex App window will disappear. You will be prompted with a pop-up window to sign in to UCM services. Log in as amckenzie with dCloud123!.</p> <p></p> </li> <li> <p>You will be prompted with a notification about Emergency Calling. Click OK.</p> <p></p> </li> <li> <p>You might get a pop-up window guiding you through the new features of the Cisco Call app. Click on Next. Then, click on Later when it asks you to use the Calling Dock, as we will explore this feature later.</p> <p></p> </li> <li> <p>Finally, right-click on the Cisco Call app on the left-side pane and click Pin. This ensures it is always visible for easier access. If you have published the Cisco Call app for the entire organization under setup policies on the Microsoft Teams Admin Center, you will see the Cisco Call app pinned already.</p> <p></p> <p>NOTE: If you do not see the Cisco Call app on the left side, click on the three dots on the left-side pane again, right-click on the Cisco Call app, and select Pin so the application always displays on the left-side pane for easier access.</p> </li> <li> <p>Now both of your clients on Workstation 3 are ready for use.</p> </li> <li> <p>Open an RDP connection to Workstation 4 using one of the methods described in the Accessing Your Lab module above. Repeat the steps above (1 through 9) on Workstation 4 using the credentials <code>&lt;mcheng@cbXXX.dc-YY.com&gt;</code> with password dCloud123!.</p> </li> </ol> <p>NOTE: Make sure you are logged in to both clients on both workstations 3 and 4 before continuing.</p>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g1-calling-scenarios-1-of-10-making-calls-approx-5-min","title":"Module 2g.1: Calling Scenarios 1 of 10 -- Making calls [Approx 5 min]","text":"<p>After configuring Cloud Connected UC, we should have Presence sync, Call History and Voicemail populated on our landing page. However, please notice these settings take up to 8 hours to apply, so you might not see this working.</p> <p>Optional reading: reason why this process takes 8 hours explained in the following diagram:</p> <p></p> <ol> <li> <p>Make sure you are logged in to both clients on both workstations 3 and 4 before continuing. From workstation 3 as Adam McKenzie, go to Cisco Call app on Microsoft Teams (On left side pane) &amp; Search for Monica Cheng (right above dial pad). OR you can dial extension number 6020.</p> </li> <li> <p>It will search the directory for Monica Cheng and display options to call, click on either Audio or Video. It will display all available contact methods for Monica, like Phone number Email etc., Click on any of the options to place the call.</p> <p></p> </li> <li> <p>Answer the call on workstation 4. Verify that call gets connected. Wait for few seconds and hang up the call.</p> <p>Once the 8 hour has been passed after onboarding UCM cluster:</p> </li> <li> <p>Once the 8 hours has been passed after onboarding UCM Cluster, you will see the call presence status on Microsoft Teams as In a call, as shown below.</p> <p>NOTE: If you do not see the correct status, try to bring the Microsoft Teams into foreground or initiate a chat conversation between Adam and Monica.</p> <p></p> </li> <li> <p>As soon as the call is hung up, you will see that Adam's status changes to Available.</p> <p></p> </li> <li> <p>Similarly you can dial any PSTN number in E.164 format (+1AAABBBCCCC). Or you can dial the Cisco support number +18005532447. You can also make inbound calls to Adam McKenzie DID number (you can find it in session details or in the file lab_info.txt) from your mobile. If you cannot dial US phone numbers from your mobile, reach out to one of your proctors.</p> </li> <li> <p>Also, Once the 8 hours has been passed after onboarding UCM Cluster, you will be able to observe that up to date call history is synchronized/reflected to Cisco Call app on Microsoft Teams. To verify the call history go to Cisco Call app &gt; Recent Calls as shown below.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g2-calling-scenarios-2-of-10-making-calls-from-microsoft-teams-chat-window-approx-5-min","title":"Module 2g.2: Calling Scenarios 2 of 10 - Making calls from Microsoft Teams chat Window [Approx 5 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go to Microsoft Teams app and go to Chat on left side pane. On the top search window search for Monica Cheng.</p> <p></p> </li> <li> <p>Initiate a chat conversation with Monica and send few messages back and forth.</p> </li> <li> <p>Click on the + sign towards right side of typing window for chat and select Cisco Call from available options.</p> <p></p> </li> <li> <p>It will bring up available calling options for Monica Cheng. Choose either Phone number or Email Id from the drop down option. Then choose either Audio or Video option to make the call.</p> <p></p> </li> <li> <p>Answer the call on Workstation 4 and verify that call is connected. Hang up the call after few seconds.</p> <p>NOTE: As explained before once the 8 hours for the initial sync has passed, you will see the presence status updated to show that Adam (and Monica) In a call.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g3-calling-scenarios-3-of-10-optimize-webex-app-for-microsoft-teams-experience-approx-3-min","title":"Module 2g.3: Calling Scenarios 3 of 10 - Optimize Webex App for Microsoft Teams Experience [Approx 3 min]","text":"<p>We are going to enable a feature on Control Hub that makes the Webex App optimized for being used with Microsoft Teams. This option enables:</p> <ul> <li>Webex branding removal</li> <li>Linking Calling Dock to MS Teams (shortcut to Call History, Voicemail, and Simplified Call Settings)</li> <li>Ability to mute Webex calls when on Teams meetings</li> </ul> <ol> <li> <p>Continuing on Workstation 3, go back to the browser tab where you logged into Webex Control Hub. On Control Hub, go to MANAGEMENT &gt; Users, choose user Adam McKenzie. On the user page, go to the Calling tab. On the calling tab, scroll down to Call Settings &gt; Microsoft Teams Integration. On the Microsoft Teams integration page, toggle on for option Optimize Webex App for Microsoft Teams Experience. Click on Save.</p> <p></p> </li> <li> <p>Restart the Webex App to apply the changes by clicking on Exit from the System tray (right-click + Exit).</p> <p></p> </li> <li> <p>You will see a new banner on the Cisco Call App (we will explore it latter). Click on Sign in on the banner that shows the Cisco Call tab to re-open the Webex App.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g4-new-calling-scenarios-4-of-10-making-a-call-with-the-optimized-experience","title":"Module 2g.4 (NEW): Calling Scenarios 4 of 10 - Making a Call with the Optimized Experience","text":"<p>NOTE: Make sure you are logged in to both clients on both Workstations 3 and 4 before continuing.</p> <ol> <li> <p>Continuing on Workstation 3 as Adam McKenzie, go to the Cisco Call app on Microsoft Teams and make another call to Monica Cheng.</p> </li> <li> <p>Notice the Webex logo is not shown within the in-call window anymore, as the option Optimize Webex App for Microsoft Teams Experience is enabled for this user.</p> <p></p> </li> <li> <p>Hang up the call.</p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g5-new-calling-scenarios-5-of-10-presence-sync-mute-webex-app-calls-when-on-teams-meetings-approx-10-min","title":"Module 2g.5 (NEW): Calling Scenarios 5 of 10 - Presence Sync: Mute Webex App Calls When on Teams Meetings [Approx 10 min]","text":"<p>NOTE: This scenario will only work after 8 hours from configuring CCUC have passed.</p> <p>Presence sync is supported between Microsoft Teams and Webex for the following statuses:</p> <p></p> <p>When on a Microsoft Teams meeting or call, users might want to decide if they want to receive or decline calls. The status when on a Teams Meeting or a call will show as \"In a call\" in Microsoft Teams, and as \"On a call\" in the Webex App.</p> <p>However, this presence status itself doesn't mean incoming calls will be muted, but two settings are required for this to happen:</p> <ul> <li>Organizational setting: Optimize Webex App for Microsoft Teams Experience must be enabled for the user, group, or organization.</li> <li> <p>User setting: Under Call Settings, Call Notifications can be set to Always mute or to Only mute notifications when I'm in a meeting or on a call. These settings apply to either Webex calls or meetings, and also to Microsoft Calls and Meetings if the option \"Optimize Webex App for Microsoft Teams Experience\" is enabled for that user.</p> <p></p> </li> </ul>"},{"location":"module_3/module_3g3-8_media/media/module_3/#lets-explore-the-option-only-mute-notifications-when-im-in-a-meeting-or-on-a-call","title":"Let's explore the option Only mute notifications when I'm in a meeting or on a call.","text":"<ol> <li> <p>Continuing on Workstation 3, go to Microsoft Teams. Go to the Meet tab and click on Meet now. Then click on Start a meeting to start a Microsoft Teams meeting. </p> <p></p> </li> <li> <p>Select any audio option and click on Join now. Click close for option Invite people to join you pop-up window</p> <p></p> </li> <li> <p>Leave the meeting open and go back to the Cisco Call tab within Microsoft Teams. Notice Adam's status has changed to \"In a call.\"</p> <p></p> </li> <li> <p>Open Call Settings within the Cisco Call tab. It will bring up settings for the Webex App. Notice that Call Settings are now simplified in comparison to the default Call Settings from the Webex App (Simplified Call Settings).</p> <p></p> </li> <li> <p>On the settings, go to Notifications. Under Notifications, click on Calls. Ensure the option Don't mute is selected. Click Save.</p> <p></p> </li> <li> <p>Now, navigate to Workstation 4 and open Microsoft Teams (as Monica Cheng). From the Cisco Call tab, make a call to Adam McKenzie's work number.</p> <p></p> </li> <li> <p>On Workstation 3, notice Adam McKenzie gets the call notification toast. Decline the call on Workstation 3 and/or hang up the call on Workstation 4.</p> <p></p> </li> <li> <p>Now, on Workstation 3, open Call Settings within the Cisco Call tab and go to Notifications. Under Notifications, click on Calls. Select the option Only mute notifications when I'm in a meeting or on a call. Click on Save.</p> <p></p> </li> <li> <p>Repeat the call from Monica Cheng to Adam McKenzie: Navigate to Workstation 4 and open Microsoft Teams (as Monica Cheng). From the Cisco Call tab, make a call to Adam's work number.</p> <p></p> </li> <li> <p>Notice Monica Cheng can make the call, but Adam McKenzie doesn't receive any notification toast while the call is happening. Hang up the call from Workstation 4, as Monica Cheng.</p> <p></p> </li> <li> <p>Adam will get a missed call.</p> </li> <li> <p>Still on Workstation 3, open the Microsoft meeting window and finish the Microsoft Teams meeting.</p> <p></p> </li> <li> <p>Open again Call Settings from the Cisco Call tab within Microsoft Teams and change the Call Notifications settings back to Don't Mute. Click on Save.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g6-calling-scenarios-6-of-10-calling-dock-approx-5-min","title":"Module 2g.6: Calling Scenarios 6 of 10 - Calling Dock [Approx 5 min]","text":"<p>The Webex Calling Dock (formerly multi-call window) is a user-enabled setting to maximize calls for multiple lines and manage calls effectively. It can act as a companion app for Microsoft Teams. It also helps to hide the Webex app during calls.</p> <p></p> <ol> <li> <p>Continuing on Workstation 3, on Microsoft Teams go to the Cisco Call app on the left-side pane. Click on the ellipsis menu on the right-hand side (next to Call Settings) and toggle on the Calling Dock to enable it.</p> <p></p> </li> <li> <p>Notice that Webex will bring a small call window (called as Calling Dock) as shown above. You can use this Calling Dock for any calling functions, like making calls, answering calls, recent calls, using the dial pad, and accessing voicemail.</p> </li> <li> <p>Drag and drop the Calling Dock to the right side of the screen to notice it minimizes itself (docking feature).</p> <p></p> </li> <li> <p>Hover your mouse over the new dock icon on the right to see the Calling Dock without keeping it open. Click on the dock to maximize the Calling Dock again.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g7-calling-scenarios-7-of-10-multi-line-approx-10-min","title":"Module 2g.7: Calling Scenarios 7 of 10 - Multi-Line [Approx 10 min]","text":"<p>You can set up a profile with multiple lines with different phone numbers for calling. You can switch lines if you need to make outgoing calls from different lines, such as a front desk line, support team line, or an individual line with a different caller ID.</p> <p>Let's add a multi-line (secondary line) to Adam McKenzie.</p> <ol> <li> <p>Continuing on Workstation 3, open a new browser tab &amp; from the home page go to Collaboration Admin Links &gt; Cisco Unified Communications Manager. Log in as administrator/dCloud123!.</p> </li> <li> <p>Once logged in, go to Device &gt; Phone. On the Find and List Phones page, drop down the option for Find Phone where to Description, contains, and in the search field type mckenzie (Adam's last name) and click Find.</p> <p></p> </li> <li> <p>From the search results, choose/click the device CSFAMCKENZIE.</p> </li> <li> <p>On the phone page, click on Line [2] -- add a new DN (towards the top-left corner).</p> <p></p> </li> <li> <p>It will take you to the new Directory Number Configuration page. On the page populate the following details and click Save.</p> Parameter Name Value Directory Number 7016 Route Partition Base_PT Voice Mail Profile Default Calling Search Space Call_Everyone Display (Caller ID) Adam McKenzie - x7016 ASCII Display (Caller ID) Adam McKenzie - x7016 Line Text Label Adam McKenzie - x7016 Options Caller Name &amp; Dialed Number <p></p> <p></p> </li> <li> <p>Once saved, scroll down all the way to the bottom of the directory number page. You will see the option called Users Associated with Line. Click on Associate End Users. It will bring up the Find and List Users page. In the search field, enter Adam and click Find. It will list the user ID amckenzie. Checkmark the user and click Add Selected.</p> <p></p> </li> <li> <p>It will associate the user and take you back to the Directory Number Configuration page. Click Save. Click Apply Config. Click OK on the pop-up window.</p> </li> <li> <p>Now go to the Calling Dock, and you will have two lines configured. If you do not see the second line yet, just quit (from the system tray, right-click on the Webex icon and Exit Webex) &amp; Connect Phone services on the Cisco Call app within Microsoft Teams.</p> </li> <li> <p>Observe on the Calling Dock you now have two lines configured.</p> <p></p> </li> <li> <p>Go to Microsoft teams &amp; Cisco Call app.  Click on Call Settings.  It will bring up Settings pop-up window for Webex. Uncheck the option for Answer calls with my video on under Calling tab.  Click Save.</p> <p></p> </li> <li> <p>Go to Workstation 4 (as Monica Cheng). On Microsoft Teams, go to the Cisco Call app and dial 7016 (the secondary line that we configured). Answer the call on Workstation 3. Verify that the call is connected, wait for a few seconds, and hang up the call.</p> </li> <li> <p>As explained before, once the 8 hours for the initial sync has passed, you will see the presence status updated to show that Adam is \"In a call\" when the second line is in use, just like the primary line.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g8-calling-scenarios-8-of-10-voicemail-approx-5-min","title":"Module 2g.8: Calling Scenarios 8 of 10 - Voicemail [Approx 5 min]","text":"<ol> <li> <p>If you can dial US numbers from your mobile phone, dial the DID number you noted for Adam McKenzie (from Session Details) in the Accessing the Lab module. If you cannot dial US numbers, you can contact one of your proctors to make the call for you.</p> <p>NOTE: If you have not noted the DID number at the beginning of the lab, you can find the DID number by going to your dCloud Lab &gt; Session Details and noting the DID number associated with extension number 6016 (it will be labeled as Adam McKenzie).</p> </li> <li> <p>Do not answer the call on Workstation 3 &amp; let it go to voicemail (or decline the call). Leave a voice message for a few seconds and hang up the call.</p> </li> <li> <p>As explained before, once 8 hours have passed since the CCUC is onboarded, you can go to Microsoft Teams &gt; Cisco Call app and go to the Voicemail tab. Observe that you have a new voicemail. Click Play to listen to the voicemail. Make sure you can listen to the voicemail.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g9-new-calling-scenarios-9-of-10-phone-disconnection-banner-approx-3-min","title":"Module 2g.9 (NEW): Calling Scenarios 9 of 10 - Phone Disconnection Banner [Approx 3 min]","text":"<p>NOTE: If you have completed Module 1, skip to the next Calling scenario.</p> <p>When phone services are disconnected (for example, when the Webex App is logged out), there will be a banner showing that in the Cisco Call App. It also appears when it detects the Webex App is not running (when you exit from it), as we have seen before. Let's test the experience when signing out from the Webex App.</p> <ol> <li> <p>Continuing on Workstation 3 as Adam McKenzie, go to the taskbar to find the Webex App. Click on the icon to open it.</p> <p></p> </li> <li> <p>Click on Adam\u2019s avatar and on Sign Out.</p> <p></p> </li> <li> <p>A new banner will appear on the Cisco Call App advising you about your phone services being disconnected.</p> <p></p> </li> <li> <p>Click on Sign in to connect them again. If this banner is there because you are logged out from the Webex App, it will ask you to log in to the Webex App by bringing in the Webex App sign-in page.</p> </li> <li> <p>Notice the status of the banner is now \"Connecting.\" Sign in as Adam McKenzie to the Webex App and the UCM services.</p> <p></p> <p></p> </li> <li> <p>Once you log in, the banner will show that services are reconnected.</p> <p></p> </li> </ol>"},{"location":"module_3/module_3g3-8_media/media/module_3/#module-2g10-optional-calling-scenarios-10-of-10-create-a-hunt-group-and-assign-users-to-it-approx-10-min","title":"Module 2g.10 (OPTIONAL): Calling Scenarios 10 of 10 - Create a Hunt Group and Assign Users to It [Approx 10 min]","text":"<ol> <li> <p>Continuing on Workstation 3, go back to the browser page where you are signed into Cisco Unified Communications Manager. Log back in as administrator/dCloud123! if the previous login has timed out.</p> </li> <li> <p>Once logged in, go to Call Routing &gt; Route/Hunt &gt; Line Group. Click on Add new.</p> <p></p> </li> <li> <p>Name the Line Group as dCloud Line Group. Select extension 6016/Base_PT (Adam McKenzie) and click Add to Line Group. Similarly, select extension 6020/Base_PT (Monica Cheng) and click Add to Line Group. Click Save.</p> <p></p> </li> <li> <p>Now, let's add this Line Group to a Hunt List. Go to Call Routing &gt; Route/Hunt &gt; Hunt List. Click on Add new.</p> <p></p> </li> <li> <p>Assign the name dCloud Hunt List. Select dCloud_CMGroup under Cisco Unified Communications Manager Group. Checkmark Enable this Hunt List. Click Save.</p> <p></p> </li> <li> <p>Once the page reloads, click on Add Line Group on the newly created Hunt List page. Drop down the option Line Group and select the Line Group you just created (dCloud Line Group). Click on Save. Click OK on the prompt message that will appear.</p> <p></p> </li> <li> <p>Once the Line Group is added, click Save on the Hunt List Configuration. Click OK.</p> </li> <li> <p>Now we are going to create the Hunt Pilot. Go to Call Routing &gt; Route/Hunt &gt; Hunt Pilot. Click on Add new.</p> <p></p> </li> <li> <p>Enter the directory number 7800 for the Hunt Pilot. Select the Route Partition as Base_PT. Drop down the option for Hunt List and choose the Hunt List we just created: dCloud Hunt List. Leave the rest of the fields as defaults. Click Save.</p> <p></p> </li> <li> <p>Now go to the Webex Calling Dock and notice that the Hunt Group is enabled. You can click on it, and it will be disabled (Off). Click OK on the pop-up window. Click on the icon again to log in (On) to the Hunt Group.</p> <p></p> </li> <li> <p>Go to your dCloud Session Info &gt; Phone Numbers. Drop down the phone numbers and find the DID number associated with the extension 7800 (the one we assigned to the Hunt Group). This number will be different for each lab.</p> <p></p> </li> <li> <p>Dial the DID number from your personal phone or ask one of the proctors to make the call for you. Notice the incoming call for Adam McKenzie (Workstation 3). Do not answer the call on Workstation 3.</p> <p></p> </li> <li> <p>Wait a few tones and notice the call moving to Monica Cheng (Workstation 4). Hang up the call from your phone or the proctor's phone.</p> <p></p> </li> </ol> <p>This completes the entire Module 2: Cisco Call (UCM Calling) Integration with Microsoft Teams.</p>"}]}